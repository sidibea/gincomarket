<?php define("DB_PREFIX", _DB_PREFIX_); define("DIR_SMS_LICENCE", "../zensms/"); define("DIR_SMS", "../zensms/includes/"); define("DIR_SMS_PUBLIC", "../zensms/public/"); define("DIR_SMS_PUBLIC_DELIVERY", "zensms/public/"); define("DIR_SMS_JS", "../modules/prestasms/js/"); define("DIR_SMS_IMG", "../modules/prestasms/img/"); define("SMS_ENABLE_COLOR", true); define("SMS_PREF_BILLING", true); define("SMS_STAT_BACK_COLOR", "#ffffff"); define("SMS_WEB_URL", "www.presta-sms.com");  class SmsAdapterController { protected $filter; static public $colors = array(0 => "#D47705", 1 => "#4068C4", 2 => "#C438E0", 3 => "#38D8E0", 4 => "#38E043", 5 => "#EFF43A", 6 => "#F79E0E", 7 => "#1802B9", 8 => "#F48CD2", 9 => "#09FF00",); public static $MarketingTemplateCustomers = array("firstname" => "firstname", "lastname" => "lastname", "email" => "email", "telephone" => "phone_mobile"); public static $MarketingTemplateShop = array("shop_name" => "shop_name", "shop_domain" => "shop_domain", "shop_email" => "shop_email", "shop_phone" => "shop_phone"); public static $MarketingTemplateCoupons = array("name" => "coupon_name", "code" => "coupon_code", "description" => "coupon_description", "reduction_percent" => "coupon_reduction_percent", "reduction_amount" => "coupon_reduction_amount", "reduction_currency" => "coupon_reduction_currency", "reduction_currency" => "coupon_reduction_currency", "date_from" => "coupon_date_start", "date_to" => "coupon_date_end", "quantity" => "coupon_quantity");  public function __construct() { $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM " . DB_PREFIX . "shop_url LIMIT 1"); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->rows AS $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952) { $i05355412b857f5174e9a2f71b1e936a86ad60cd25ca425460f7dbd64a82fa844eed01062be6a63d4 = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["domain"] . $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["physical_uri"]; } } define("DELIVERY_URL", "http://" . $i05355412b857f5174e9a2f71b1e936a86ad60cd25ca425460f7dbd64a82fa844eed01062be6a63d4 . "modules/prestasms/delivery.php"); $this->index(); if (method_exists($this, "createFilter") && defined("SMS_FILTER_ON")) { $this->createFilter(); } $i05355412b857f5174e9a2f71b1e936a86ad60cd21238ed0a93a32faf9485892fe4a454435972b1cc = new UserProfile($this->getDb()); if (!($i05355412b857f5174e9a2f71b1e936a86ad60cd21238ed0a93a32faf9485892fe4a454435972b1cc->getUsername() && $i05355412b857f5174e9a2f71b1e936a86ad60cd21238ed0a93a32faf9485892fe4a454435972b1cc->getPassword()) && filter_input(INPUT_GET, "controller") != 'AdminSmsProfile') { $this->displayError(v_smshistory_usernotactive); header('Location: ' . "index.php?controller=AdminSmsProfile&token=" . $this->getAdminToken("AdminSmsProfile")); } $this->startup(); }  protected function index() { $this->getDefaultLanguageMutation(); }  public function getAdminToken($i388c6fcba38630bf149af916400d0df6a11d301c) { return Tools::getAdminTokenLite($i388c6fcba38630bf149af916400d0df6a11d301c); }  public function Execute($i05355412b857f5174e9a2f71b1e936a86ad60cd25219ccda793bda0dd2dd47ede46789ad8051decb) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = new dbConnectorResult(); if (strpos(strtolower($i05355412b857f5174e9a2f71b1e936a86ad60cd25219ccda793bda0dd2dd47ede46789ad8051decb), "select") === 0) { $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = Db::getInstance()->executeS($i05355412b857f5174e9a2f71b1e936a86ad60cd25219ccda793bda0dd2dd47ede46789ad8051decb); $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89->num_rows = count($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de); if ($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89->num_rows) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89->row = $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de[0]; $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89->rows[] = $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89->row; for ($i05355412b857f5174e9a2f71b1e936a86ad60cd2 = 1; $i05355412b857f5174e9a2f71b1e936a86ad60cd2 < $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89->num_rows; $i05355412b857f5174e9a2f71b1e936a86ad60cd2++) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89->rows[] = $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de[$i05355412b857f5174e9a2f71b1e936a86ad60cd2]; } } } else { Db::getInstance()->execute($i05355412b857f5174e9a2f71b1e936a86ad60cd25219ccda793bda0dd2dd47ede46789ad8051decb); } return $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89; }  public function lastInsertId() { return Db::getInstance()->Insert_ID(); }  public function escape($i05355412b857f5174e9a2f71b1e936a86ad60cd20e4db502c191d65f4204e889a1aff420bded9efe) { return Db::getInstance()->_escape($i05355412b857f5174e9a2f71b1e936a86ad60cd20e4db502c191d65f4204e889a1aff420bded9efe); }  public function getDb() { return; }  protected function createFilter() { $this->marketingFilter = new SmsFilter($this); $this->marketingFilter->addFilter("select", "type", v_smsmarketing_typ, array("\$eval = {0}==1;" => "SELECT id_customer AS customer_id FROM " . DB_PREFIX . "customer WHERE (company NOT LIKE '' AND company IS NOT NULL)", "\$eval = {0}==2;" => "SELECT id_customer AS customer_id FROM " . DB_PREFIX . "customer WHERE (company LIKE '' OR company IS NULL)"), array(-1 => v_smsmarketing_allcustomers, 1 => v_smsmarketing_companycustomers, 2 => v_smsmarketing_privatecustomers), "#9acd32")->addFilter("select", "country", v_smsmarketing_country, "SELECT id_customer AS customer_id FROM " . DB_PREFIX . "address WHERE id_country='{0}'", $this->getCountry(), "#005784")->addFilter("select", "group", v_smsmarketing_groups, "SELECT id_customer AS customer_id FROM " . DB_PREFIX . "customer_group WHERE id_group=\"{0}\"", $this->getGroup(), "#d2b48c")->addFilter("select", "group", v_smsmarketing_gender, "SELECT id_customer AS customer_id FROM " . DB_PREFIX . "customer WHERE id_gender='{0}'", array(-1 => v_smsmarketing_all, 1 => v_smsmarketing_male, 2 => v_smsmarketing_female), "#eeaaaa")->addFilter("select", "newsletter", v_smsmarketing_news, "SELECT id_customer AS customer_id FROM " . DB_PREFIX . "customer WHERE newsletter=\"{0}\"", array(-1 => v_smsmarketing_all, 1 => v_smsmarketing_yes, 0 => v_smsmarketing_no), "#cd1818")->addFilter("select", "store", v_smsmarketing_store, "SELECT id_customer AS customer_id FROM " . DB_PREFIX . "customer WHERE id_shop = \"{0}\"", $this->getStore(), "#8880aa")->addFilter("input", "firstname", v_smsmarketing_firstname, "SELECT id_customer AS customer_id FROM " . DB_PREFIX . "customer WHERE firstname like '%{0}%'", null, "#c71585")->addFilter("input", "lastname", v_smsmarketing_lastname, "SELECT id_customer AS customer_id FROM " . DB_PREFIX . "customer WHERE lastname like '%{0}%'", null, "#006600")->addFilter("input", "city", v_smsmarketing_city, "SELECT id_customer AS customer_id FROM " . DB_PREFIX . "address WHERE city like '%{0}%'", null, "#ff8000")->addFilter("select", "advert", v_smsmarketing_advert, "SELECT id_customer AS customer_id FROM " . DB_PREFIX . "customer WHERE optin='{0}'", array(-1 => v_smsmarketing_all, 1 => v_smsmarketing_yes, 0 => v_smsmarketing_no), "#ff8080")->addFilter("datetime", "register", v_smsmarketing_registerfrom, "SELECT id_customer AS customer_id FROM " . DB_PREFIX . "customer WHERE date_add>='{0}' and date_add<='{1}'", null, "#907523")->addFilter("datetime", "borndate", v_smsmarketing_birthfrom, "SELECT id_customer AS customer_id FROM " . DB_PREFIX . "customer WHERE birthday>='{0}' and birthday<='{1}'", null, "#907523")->addFilter("allYearsDate", "birthdays", v_smsmarketing_birthfrom . " (" . v_all_years . ")", "SELECT id_customer AS customer_id FROM " . DB_PREFIX . "customer WHERE birthday LIKE '%-{1}-{0}'", null, "#907090")->addFilter("relationValue", "order", v_customersms_order, array("\$eval = {0}==0;" => "SELECT id_customer AS customer_id, MAX(`total_paid`) AS total FROM " . DB_PREFIX . "orders GROUP BY " . DB_PREFIX . "orders.id_customer HAVING total < '{1}'", "\$eval = {0}==1;" => "SELECT id_customer AS customer_id, MAX(`total_paid`) AS total FROM " . DB_PREFIX . "orders GROUP BY " . DB_PREFIX . "orders.id_customer HAVING total > '{1}'", "\$eval = {0}==2;" => "SELECT id_customer AS customer_id, MAX(`total_paid`) AS total FROM " . DB_PREFIX . "orders GROUP BY " . DB_PREFIX . "orders.id_customer HAVING total = '{1}'", "\$eval = {0}==3;" => "SELECT id_customer AS customer_id, MAX(`total_paid`) AS total FROM " . DB_PREFIX . "orders GROUP BY " . DB_PREFIX . "orders.id_customer HAVING total != '{1}'"), array(array(0 => "<", 1 => ">", 2 => "=", 3 => "≠"), null), "#902080")->addFilter("relationValue", "sumOrder", "∑ " . v_customersms_order, array("\$eval = {0}==0;" => "SELECT id_customer AS customer_id, SUM(`total_paid`) AS total FROM " . DB_PREFIX . "orders GROUP BY " . DB_PREFIX . "orders.id_customer HAVING total < '{1}'", "\$eval = {0}==1;" => "SELECT id_customer AS customer_id, SUM(`total_paid`) AS total FROM " . DB_PREFIX . "orders GROUP BY " . DB_PREFIX . "orders.id_customer HAVING total > '{1}'", "\$eval = {0}==2;" => "SELECT id_customer AS customer_id, SUM(`total_paid`) AS total FROM " . DB_PREFIX . "orders GROUP BY " . DB_PREFIX . "orders.id_customer HAVING total = '{1}'", "\$eval = {0}==3;" => "SELECT id_customer AS customer_id, SUM(`total_paid`) AS total FROM " . DB_PREFIX . "orders GROUP BY " . DB_PREFIX . "orders.id_customer HAVING total != '{1}'"), array(array(0 => "<", 1 => ">", 2 => "=", 3 => "≠"), null), "#886543")->addFilter("input", "product", v_adminsms_product, "SELECT " . DB_PREFIX . "orders.id_customer AS customer_id FROM " . DB_PREFIX . "order_detail INNER JOIN " . DB_PREFIX . "orders ON " . DB_PREFIX . "orders.id_order = " . DB_PREFIX . "order_detail.id_order INNER JOIN " . DB_PREFIX . "product_lang ON " . DB_PREFIX . "product_lang.id_product = " . DB_PREFIX . "order_detail.product_id WHERE " . DB_PREFIX . "product_lang.`name` LIKE '%{0}%' GROUP BY " . DB_PREFIX . "orders.id_customer", null, "#77aacc")->addFilter("input", "product_ref", v_adminsms_product . " - Ref. number", "SELECT " . DB_PREFIX . "orders.id_customer AS customer_id FROM " . DB_PREFIX . "orders INNER JOIN " . DB_PREFIX . "order_detail ON " . DB_PREFIX . "orders.id_order = " . DB_PREFIX . "order_detail.id_order INNER JOIN " . DB_PREFIX . "product ON " . DB_PREFIX . "order_detail.product_id = " . DB_PREFIX . "product.id_product WHERE " . DB_PREFIX . "product.reference = '{0}' GROUP BY " . DB_PREFIX . "orders.id_customer", null, "#77ccaa")->addFilter("select", "carrier", "Carrier", "SELECT id_customer AS customer_id FROM `" . DB_PREFIX . "orders` WHERE `id_carrier` = '{0}'", $this->getCarriers(), "#2ad110"); }  public function getCarriers() { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = array(); $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM `" . DB_PREFIX . "carrier` LIMIT 500"); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->rows as $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89[$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["id_carrier"]] = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["name"]; } } return $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89; }  public function getDefaultLanguageMutation() { if (!defined("SMS_DEFAULT_MUTATION")) { $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT value FROM `" . DB_PREFIX . "configuration` WHERE `name` = 'PS_LOCALE_LANGUAGE'"); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { define("SMS_DEFAULT_MUTATION", strtolower($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->row["value"])); } else { define("SMS_DEFAULT_MUTATION", "en"); } } }  protected function getLanguageMutation() { $i84676540daef1510ea5729a183290848a9e7accb = 0; $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = array(SMS_DEFAULT_MUTATION => ""); $this->mutationColors[SMS_DEFAULT_MUTATION] = $i84676540daef1510ea5729a183290848a9e7accb++; $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM `" . DB_PREFIX . "lang`"); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->rows as $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952) { if ($i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["iso_code"] != SMS_DEFAULT_MUTATION) { $this->mutationColors[$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["iso_code"]] = ($i84676540daef1510ea5729a183290848a9e7accb++) % count(self::$colors); } $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89[$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["iso_code"]] = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["name"]; } } return $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89; }  protected function getActualLanguage() { global $cookie; return Language::getIsoById((int)$cookie->id_lang); }  protected function getTemplateRepalce() { $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8 = "<script language=\"javascript\"> function getTemplateValues(text) {"; $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8 .= $this->getTemplateReplaceCustomers(); $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8 .= $this->getTemplateReplaceShop(); $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8 .= $this->getTemplateReplaceCoupon(); $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8 .= " return text; } </script>"; return $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8; }  protected function getTemplateReplaceCustomers() { $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8 = ""; $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT `" . DB_PREFIX . "customer`.firstname, `" . DB_PREFIX . "customer`.lastname, `" . DB_PREFIX . "customer`.email, `" . DB_PREFIX . "address`.phone_mobile AS telephone FROM `" . DB_PREFIX . "customer` LEFT JOIN `" . DB_PREFIX . "address` ON `" . DB_PREFIX . "customer`.id_customer = `" . DB_PREFIX . "address`.id_customer ORDER BY `" . DB_PREFIX . "customer`.id_customer DESC LIMIT 1"); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach (self::$MarketingTemplateCustomers as $i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4 => $i05355412b857f5174e9a2f71b1e936a86ad60cd29002e83be34cd5231edf8dad3f43d5fabe403d59) { $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8 .= 'text=text.replaceAll("{' . $i05355412b857f5174e9a2f71b1e936a86ad60cd29002e83be34cd5231edf8dad3f43d5fabe403d59 . '}","' . htmlspecialchars($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->row[$i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4]) . '");'; } } return $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8; }  protected function getTemplateReplaceShop() { $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8 = ""; $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = $this->getShopVariables(0); foreach (self::$MarketingTemplateShop as $i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4 => $i05355412b857f5174e9a2f71b1e936a86ad60cd29002e83be34cd5231edf8dad3f43d5fabe403d59) { $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8 .= 'text=text.replaceAll("{' . $i05355412b857f5174e9a2f71b1e936a86ad60cd29002e83be34cd5231edf8dad3f43d5fabe403d59 . '}","' . htmlspecialchars($iced8cbcfca3c880f0f157e119d1cc6f8691e7e89[$i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4]) . '");'; } return $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8; }  protected function getTemplateReplaceCoupon() { $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8 = ""; $id37ad94a7a9cd11fcc3bd8a5d861c0ee1b309e8d = array(); $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM `" . DB_PREFIX . "currency`"); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->rows as $i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4 => $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952) { $id37ad94a7a9cd11fcc3bd8a5d861c0ee1b309e8d[$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["id_currency"]] = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["iso_code"]; } } $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT " . implode(array_keys(self::$MarketingTemplateCoupons), ", ") . " FROM " . DB_PREFIX . "cart_rule_lang INNER JOIN " . DB_PREFIX . "cart_rule ON " . DB_PREFIX . "cart_rule.id_cart_rule = " . DB_PREFIX . "cart_rule_lang.id_cart_rule WHERE " . DB_PREFIX . "cart_rule_lang.id_lang = 1 AND " . DB_PREFIX . "cart_rule.active = 1 ORDER BY " . DB_PREFIX . "cart_rule.id_cart_rule DESC LIMIT 1"); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach (self::$MarketingTemplateCoupons as $i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4 => $i05355412b857f5174e9a2f71b1e936a86ad60cd29002e83be34cd5231edf8dad3f43d5fabe403d59) { if ($i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4 == "reduction_currency") { if (isset($id37ad94a7a9cd11fcc3bd8a5d861c0ee1b309e8d[$i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->row[$i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4]])) { $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->row[$i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4] = $id37ad94a7a9cd11fcc3bd8a5d861c0ee1b309e8d[$i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->row[$i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4]]; } } $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8 .= 'text=text.replaceAll("{' . $i05355412b857f5174e9a2f71b1e936a86ad60cd29002e83be34cd5231edf8dad3f43d5fabe403d59 . '}","' . $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->row[$i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4] . '");'; } } return $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8; }  protected function getCountry() { $i3ff53d5e7ee534eaa5dd359d3bebba11a731cd68 = Context::getContext(); $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8 = array(-1 => v_smsmarketing_allcountries); $i05355412b857f5174e9a2f71b1e936a86ad60cd25219ccda793bda0dd2dd47ede46789ad8051decb = "SELECT * FROM `" . DB_PREFIX . "country_lang` WHERE `id_lang` = '" . $this->escape((int)$i3ff53d5e7ee534eaa5dd359d3bebba11a731cd68->language->id) . "' "; $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute($i05355412b857f5174e9a2f71b1e936a86ad60cd25219ccda793bda0dd2dd47ede46789ad8051decb); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->rows as $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952) { $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8[$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['id_country']] = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['name']; } } return $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8; }  protected function getGroup() { $i3ff53d5e7ee534eaa5dd359d3bebba11a731cd68 = Context::getContext(); $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8 = array(-1 => v_smsmarketing_all); $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM `" . DB_PREFIX . "group_lang` WHERE `id_lang` = '" . $this->escape((int)$i3ff53d5e7ee534eaa5dd359d3bebba11a731cd68->language->id) . "'"); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->rows as $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952) { $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8[$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['id_group']] = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['name']; } } return $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8; }  protected function getStore($ib3c873abb034e0eb4fceeb049b3f2e0153ae435e = true) { if ($ib3c873abb034e0eb4fceeb049b3f2e0153ae435e) { $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8 = array(-1 => v_smsmarketing_all); } else { $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8 = array(); } $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM " . DB_PREFIX . "shop;"); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->rows as $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952) { $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8[$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["id_shop"]] = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["name"]; } } else { $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8[1] = "PrestaShop"; } return $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8; }  protected function getMarketingCustomerSQL($i59353ed91761a953be973155708ab9fe00e5043d, $ie41b869258663f171bb31e8de30b1d0acdd3f20e) { return "SELECT " . DB_PREFIX . "customer.*, " . DB_PREFIX . "customer.id_customer AS customer_id, if(" . DB_PREFIX . "address.phone_mobile IS NULL OR " . DB_PREFIX . "address.phone_mobile = '', " . DB_PREFIX . "address.phone, " . DB_PREFIX . "address.phone_mobile) as telephone, " . DB_PREFIX . "customer.firstname AS firstname, " . DB_PREFIX . "customer.lastname AS lastname, " . DB_PREFIX . "address.city AS city," . DB_PREFIX . "address.id_country AS country_id, " . DB_PREFIX . "customer.id_shop AS store_id" . " FROM " . DB_PREFIX . "customer " . "LEFT JOIN " . DB_PREFIX . "address ON " . DB_PREFIX . "customer.id_customer = " . DB_PREFIX . "address.id_customer " . "WHERE (" . DB_PREFIX . "address.phone_mobile NOT LIKE '' OR " . DB_PREFIX . "address.phone NOT LIKE '') " . $i59353ed91761a953be973155708ab9fe00e5043d . " " . $ie41b869258663f171bb31e8de30b1d0acdd3f20e . " GROUP BY " . DB_PREFIX . "customer.id_customer ORDER BY lastname"; }  protected function getMarketingDisabledSQL($if2c1a4a5b60f863cf8af9496cf4c7fd2ac66c47f) { return " AND " . DB_PREFIX . "customer.id_customer NOT IN (" . implode(",", $if2c1a4a5b60f863cf8af9496cf4c7fd2ac66c47f) . ")"; }  protected function getMarketingFilteredSQL($ia3360b1b48a7cac1d104aec9ddf895f71b878d9b) { return " AND " . DB_PREFIX . "customer.id_customer IN (" . implode(",", $ia3360b1b48a7cac1d104aec9ddf895f71b878d9b) . ")"; }  protected function getAddressBook($i05355412b857f5174e9a2f71b1e936a86ad60cd2b584f54a0be935f7ee8332f9a65155eb2870a7be) { return "SELECT CASE WHEN " . DB_PREFIX . "address.phone_mobile='' OR " . DB_PREFIX . "address.phone_mobile IS NULL THEN " . DB_PREFIX . "address.phone ELSE " . DB_PREFIX . "address.phone_mobile END AS telephone, " . DB_PREFIX . "customer.firstname, " . DB_PREFIX . "customer.lastname , " . DB_PREFIX . "address.city," . DB_PREFIX . "address.id_country AS country_id, " . DB_PREFIX . "customer.id_customer AS customer_id FROM " . DB_PREFIX . "customer LEFT JOIN " . DB_PREFIX . "address ON " . DB_PREFIX . "customer.id_customer = " . DB_PREFIX . "address.id_customer WHERE " . DB_PREFIX . "customer.lastname like '" . $this->escape($i05355412b857f5174e9a2f71b1e936a86ad60cd2b584f54a0be935f7ee8332f9a65155eb2870a7be) . "%' AND (" . DB_PREFIX . "address.phone NOT LIKE '' OR " . DB_PREFIX . "address.phone_mobile NOT LIKE '') GROUP BY " . DB_PREFIX . "customer.id_customer ORDER BY " . DB_PREFIX . "customer.lastname"; }  protected function historySQL($i3964ab17d4e3c76c12a1b84b29be7bf6f6484dc3, $idacee85242f68129250771eb362503f41015a410, $i62b6b7ccb62a11971c871b454301b89c98c3f56c, $i05355412b857f5174e9a2f71b1e936a86ad60cd2c1a4c27c214a05531ea239070fe6c96651ba595d, $i05355412b857f5174e9a2f71b1e936a86ad60cd2c08e2f2a5495d949a6cd1f6619cd5dbd53d8a7be) { return "SELECT " . DB_PREFIX . "sp_sms_history.*, " . DB_PREFIX . "customer.*, " . DB_PREFIX . "sp_admins.name adminName FROM " . DB_PREFIX . "sp_sms_history LEFT JOIN " . DB_PREFIX . "customer ON " . DB_PREFIX . "sp_sms_history.customer_ID = " . DB_PREFIX . "customer.id_customer LEFT JOIN " . DB_PREFIX . "sp_admins ON " . DB_PREFIX . "sp_sms_history.admin_ID = " . DB_PREFIX . "sp_admins.ID WHERE date like '" . $this->escape($i3964ab17d4e3c76c12a1b84b29be7bf6f6484dc3) . "'" . $this->escape($idacee85242f68129250771eb362503f41015a410) . "" . $this->escape($i62b6b7ccb62a11971c871b454301b89c98c3f56c) . " ORDER BY ID DESC LIMIT " . $this->escape($i05355412b857f5174e9a2f71b1e936a86ad60cd2c1a4c27c214a05531ea239070fe6c96651ba595d) . ", " . $this->escape($i05355412b857f5174e9a2f71b1e936a86ad60cd2c08e2f2a5495d949a6cd1f6619cd5dbd53d8a7be) . ""; }  protected function getShopVariables($i05355412b857f5174e9a2f71b1e936a86ad60cd214d625e8db8948bbc793a0f929fe5db0b5cd898c) { if (!isset($i05355412b857f5174e9a2f71b1e936a86ad60cd214d625e8db8948bbc793a0f929fe5db0b5cd898c)) { $i05355412b857f5174e9a2f71b1e936a86ad60cd214d625e8db8948bbc793a0f929fe5db0b5cd898c = 0; } $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM " . DB_PREFIX . "configuration WHERE name IN ('PS_SHOP_NAME','PS_SHOP_EMAIL','PS_SHOP_PHONE','PS_SHOP_DOMAIN') AND id_shop =" . $this->escape($i05355412b857f5174e9a2f71b1e936a86ad60cd214d625e8db8948bbc793a0f929fe5db0b5cd898c)); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { return $this->fbd98155f84ce4682ab6c478eb310a4494b6e527d($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de); } else { $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM " . DB_PREFIX . "configuration WHERE name IN ('PS_SHOP_NAME','PS_SHOP_EMAIL','PS_SHOP_PHONE','PS_SHOP_DOMAIN')"); return $this->fbd98155f84ce4682ab6c478eb310a4494b6e527d($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de); } }  private function fbd98155f84ce4682ab6c478eb310a4494b6e527d($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de) { $i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a3d81df737ce9896f2d187f1f36ec465771bf09c = $i05355412b857f5174e9a2f71b1e936a86ad60cd25ca425460f7dbd64a82fa844eed01062be6a63d4 = $i05355412b857f5174e9a2f71b1e936a86ad60cd2156f75e4c32df821d1b467ef5c9af03a75b76867 = $i05355412b857f5174e9a2f71b1e936a86ad60cd21b4593e77e14bf2e7048f7b02f24756466d0ffad = ""; if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->rows as $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952) { if ($i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['name'] == "PS_SHOP_NAME") { $i05355412b857f5174e9a2f71b1e936a86ad60cd21b4593e77e14bf2e7048f7b02f24756466d0ffad = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['value']; } if ($i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['name'] == "PS_SHOP_EMAIL") { $i05355412b857f5174e9a2f71b1e936a86ad60cd2156f75e4c32df821d1b467ef5c9af03a75b76867 = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['value']; } if ($i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['name'] == "PS_SHOP_PHONE") { $i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a3d81df737ce9896f2d187f1f36ec465771bf09c = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['value']; } if ($i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['name'] == "PS_SHOP_DOMAIN") { $i05355412b857f5174e9a2f71b1e936a86ad60cd25ca425460f7dbd64a82fa844eed01062be6a63d4 = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['value']; } } } return array("shop_name" => $i05355412b857f5174e9a2f71b1e936a86ad60cd21b4593e77e14bf2e7048f7b02f24756466d0ffad, "shop_domain" => $i05355412b857f5174e9a2f71b1e936a86ad60cd25ca425460f7dbd64a82fa844eed01062be6a63d4, "shop_email" => $i05355412b857f5174e9a2f71b1e936a86ad60cd2156f75e4c32df821d1b467ef5c9af03a75b76867, "shop_phone" => $i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a3d81df737ce9896f2d187f1f36ec465771bf09c); }  protected function getTimezoneSettings() { $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM " . DB_PREFIX . "configuration WHERE name='PS_TIMEZONE'"); $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952 = $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->row; if (isset($i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["value"])) { $this->timezone = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["value"]; } else { $this->timezone = 'Europe/Pragues'; } $i3964ab17d4e3c76c12a1b84b29be7bf6f6484dc3 = new DateTime(null, new DateTimeZone('Europe/Prague')); date_default_timezone_set($this->timezone); return date("Y-m-d H:i:s", $i3964ab17d4e3c76c12a1b84b29be7bf6f6484dc3->format('U')); }  protected function getCoupons() { $i47945e993004c137f2a9e8ebe8c6a37da82bbd94 = array(); $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM " . DB_PREFIX . "cart_rule_lang INNER JOIN " . DB_PREFIX . "cart_rule ON " . DB_PREFIX . "cart_rule.id_cart_rule = " . DB_PREFIX . "cart_rule_lang.id_cart_rule WHERE " . DB_PREFIX . "cart_rule_lang.id_lang = 1 AND " . DB_PREFIX . "cart_rule.active = 1"); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->rows as $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952) { $i47945e993004c137f2a9e8ebe8c6a37da82bbd94[$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["id_cart_rule"]] = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952; } } return $i47945e993004c137f2a9e8ebe8c6a37da82bbd94; }  protected function getCouponSelect($i84bc545bbb2cff247d6ae6400af05eeb443267d9) { $i84bc545bbb2cff247d6ae6400af05eeb443267d9elect = array(-1 => "- " . v_marketing_none . " -"); foreach ($i84bc545bbb2cff247d6ae6400af05eeb443267d9 as $i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4 => $i05355412b857f5174e9a2f71b1e936a86ad60cd23fae119ac0a85b81b4cc02d0b9442bbd3d1c2cd410f888510a016f5ea5f46b736afa9e60fb62395) { $i84bc545bbb2cff247d6ae6400af05eeb443267d9elect[$i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4] = $i05355412b857f5174e9a2f71b1e936a86ad60cd23fae119ac0a85b81b4cc02d0b9442bbd3d1c2cd410f888510a016f5ea5f46b736afa9e60fb62395["name"]; } return $i84bc545bbb2cff247d6ae6400af05eeb443267d9elect; }  protected function getStoreForm($i05355412b857f5174e9a2f71b1e936a86ad60cd214d625e8db8948bbc793a0f929fe5db0b5cd898c) { return v_smsmarketing_store . " " . SmsController::getSelect(array("name" => "store"), $this->getStore(false), $i05355412b857f5174e9a2f71b1e936a86ad60cd214d625e8db8948bbc793a0f929fe5db0b5cd898c); }  protected function getCouponForm($i84bc545bbb2cff247d6ae6400af05eeb443267d9, $i05355412b857f5174e9a2f71b1e936a86ad60cd20b528d1be9ee802a3400dc2dc8e66f5f242b1790) { $i05355412b857f5174e9a2f71b1e936a86ad60cd22c53f370eba7d03f053b51d9703bae8476fd5b3d = $this->getAdminToken('AdminCartRules'); $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8 = v_marketing_coupon . ": " . SmsController::getSelect(array("name" => "coupon", "onchange" => "toggleCouponVariables();", "id" => "couponSelect"), $this->getCouponSelect($i84bc545bbb2cff247d6ae6400af05eeb443267d9), $i05355412b857f5174e9a2f71b1e936a86ad60cd20b528d1be9ee802a3400dc2dc8e66f5f242b1790) . " <a href=" . filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=AdminCartRules&token=' . $i05355412b857f5174e9a2f71b1e936a86ad60cd22c53f370eba7d03f053b51d9703bae8476fd5b3d . ">" . v_marketing_coupon_create . "</a>"; $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8 .= "<p id=\"couponVariables\" class=\"hidden\">" . $this->getTags(self::$MarketingTemplateCoupons) . "</p>"; return $i05355412b857f5174e9a2f71b1e936a86ad60cd2ae8c74e5273dec25096dbae362493a9f609ecfc8; }  protected function getCouponData($i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = array(); $id37ad94a7a9cd11fcc3bd8a5d861c0ee1b309e8d = array(); $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM `" . DB_PREFIX . "currency`"); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->rows as $i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4 => $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952) { $id37ad94a7a9cd11fcc3bd8a5d861c0ee1b309e8d[$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["id_currency"]] = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["iso_code"]; } } $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT " . implode(array_keys(self::$MarketingTemplateCoupons), ", ") . " FROM " . DB_PREFIX . "cart_rule_lang INNER JOIN " . DB_PREFIX . "cart_rule ON " . DB_PREFIX . "cart_rule.id_cart_rule = " . DB_PREFIX . "cart_rule_lang.id_cart_rule WHERE " . DB_PREFIX . "cart_rule_lang.id_lang = 1 AND " . DB_PREFIX . "cart_rule.active = 1 AND " . DB_PREFIX . "cart_rule.id_cart_rule = '" . $this->escape($i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a) . "'"); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { if (isset($id37ad94a7a9cd11fcc3bd8a5d861c0ee1b309e8d[$i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->row["reduction_currency"]])) { $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->row["reduction_currency"] = $id37ad94a7a9cd11fcc3bd8a5d861c0ee1b309e8d[$i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->row["reduction_currency"]]; } $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->row; } return $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89; }  protected function smsProduct($id37ad94a7a9cd11fcc3bd8a5d861c0ee1b309e8d, $i05355412b857f5174e9a2f71b1e936a86ad60cd2bde9096c2620747ae85e1b4216c173b802a53e29, $i05355412b857f5174e9a2f71b1e936a86ad60cd262259e4d2a109cd2e2457f7ac21d96138638075f, $i05355412b857f5174e9a2f71b1e936a86ad60cd23f5d7e20ec014ab7b44ef5a1853777312baa7ca4) { $i05355412b857f5174e9a2f71b1e936a86ad60cd2c513334e573d39745b582ce574d5daa04c56ef98 = 0; $i05355412b857f5174e9a2f71b1e936a86ad60cd23afc2cf8d54be6e07abfb1bf55440f164d29ad96 = 1; $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM " . DB_PREFIX . "lang"); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->rows as $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952) { $i05355412b857f5174e9a2f71b1e936a86ad60cd2a9b408995b78c94a78ae8cfc58351aa2f4baf4b9[$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["iso_code"]] = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["id_lang"]; } } foreach ($id37ad94a7a9cd11fcc3bd8a5d861c0ee1b309e8d as $i05355412b857f5174e9a2f71b1e936a86ad60cd2ac7338fa6e265d135828e1c7cb66296699ef55f5) { if (isset($i05355412b857f5174e9a2f71b1e936a86ad60cd23f5d7e20ec014ab7b44ef5a1853777312baa7ca4[$i05355412b857f5174e9a2f71b1e936a86ad60cd2ac7338fa6e265d135828e1c7cb66296699ef55f5])) { $i05355412b857f5174e9a2f71b1e936a86ad60cd26ac79bdc940ae4cdd0107c72e3d0d238031e3903 = $i05355412b857f5174e9a2f71b1e936a86ad60cd23f5d7e20ec014ab7b44ef5a1853777312baa7ca4[$i05355412b857f5174e9a2f71b1e936a86ad60cd2ac7338fa6e265d135828e1c7cb66296699ef55f5]; } else { $i05355412b857f5174e9a2f71b1e936a86ad60cd26ac79bdc940ae4cdd0107c72e3d0d238031e3903 = 0; } $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM " . DB_PREFIX . "product WHERE ean13 LIKE '" . SMS_EAN13 . "'"); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->rows as $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952) { $i05355412b857f5174e9a2f71b1e936a86ad60cd2c513334e573d39745b582ce574d5daa04c56ef98 = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["id_product"]; } } if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c513334e573d39745b582ce574d5daa04c56ef98 == 0) { $this->Execute("INSERT INTO " . DB_PREFIX . "product (`id_product`, `id_supplier`, `id_manufacturer`, `id_category_default`, `id_shop_default`, `id_tax_rules_group`, `on_sale`, `online_only`, `ean13`, `upc`, `ecotax`, `quantity`, `minimal_quantity`, `price`, `wholesale_price`, `unity`, `unit_price_ratio`, `additional_shipping_cost`, `reference`, `supplier_reference`, `location`, `width`, `height`, `depth`, `weight`, `out_of_stock`, `quantity_discount`, `customizable`, `uploadable_files`, `text_fields`, `active`, `available_for_order`, `available_date`, `condition`, `show_price`, `indexed`, `visibility`, `cache_is_pack`, `cache_has_attachments`, `is_virtual`, `cache_default_attribute`, `date_add`, `date_upd`, `advanced_stock_management`) VALUES (NULL, 0, 0, 2, 1, 1, 0, 1, '23239512311', '', '0.000000', 1, 1, '" . $i05355412b857f5174e9a2f71b1e936a86ad60cd26ac79bdc940ae4cdd0107c72e3d0d238031e3903 . "', '" . $i05355412b857f5174e9a2f71b1e936a86ad60cd26ac79bdc940ae4cdd0107c72e3d0d238031e3903 . "', '', '0.000000', '0.00', '', '', '', 0, 0, 0, 0, 2, 0, 0, 0, 0, 1, 1, '0000-00-00', 'new', 1, 0, 'none', 0, 0, 1, 0, NOW(), NOW(), 0)"); $i05355412b857f5174e9a2f71b1e936a86ad60cd2c513334e573d39745b582ce574d5daa04c56ef98 = $this->lastInsertId(); $this->Execute("INSERT INTO " . DB_PREFIX . "product_shop (`id_product`, `id_shop`, `id_category_default`, `id_tax_rules_group`, `on_sale`, `online_only`, `ecotax`, `minimal_quantity`, `price`, `wholesale_price`, `unity`, `unit_price_ratio`, `additional_shipping_cost`, `customizable`, `uploadable_files`, `text_fields`, `active`, `available_for_order`, `available_date`, `condition`, `show_price`, `indexed`, `visibility`, `cache_default_attribute`, `advanced_stock_management`, `date_add`, `date_upd`) VALUES (" . $i05355412b857f5174e9a2f71b1e936a86ad60cd2c513334e573d39745b582ce574d5daa04c56ef98 . ", " . $i05355412b857f5174e9a2f71b1e936a86ad60cd2bde9096c2620747ae85e1b4216c173b802a53e29 . ", 2, 1, 0, 1, '0.000000', 1, '" . $i05355412b857f5174e9a2f71b1e936a86ad60cd26ac79bdc940ae4cdd0107c72e3d0d238031e3903 . "', '" . $i05355412b857f5174e9a2f71b1e936a86ad60cd26ac79bdc940ae4cdd0107c72e3d0d238031e3903 . "', '', '0.000000', '0.00', 0, 0, 0, 1, 1, '0000-00-00', 'new', 1, 0, 'none', 0, 0, NOW(), NOW());"); $this->Execute("INSERT INTO " . DB_PREFIX . "stock_available ( `id_stock_available` , `id_product` , `id_product_attribute` , `id_shop` , `id_shop_group` , `quantity` , `depends_on_stock` , `out_of_stock` ) VALUES ( NULL , '" . $i05355412b857f5174e9a2f71b1e936a86ad60cd2c513334e573d39745b582ce574d5daa04c56ef98 . "', '0', '1', '0', '0', '0', '1' );"); $this->Execute("INSERT INTO " . DB_PREFIX . "image (`id_image`, `id_product`, `position`, `cover`) VALUES (NULL, $i05355412b857f5174e9a2f71b1e936a86ad60cd2c513334e573d39745b582ce574d5daa04c56ef98, 1, 1);"); $i05355412b857f5174e9a2f71b1e936a86ad60cd231fdb92b1ad676123c3451a8227828fd92c8be73 = $this->lastInsertId(); foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2a9b408995b78c94a78ae8cfc58351aa2f4baf4b9 as $i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4 => $i05355412b857f5174e9a2f71b1e936a86ad60cd20e4db502c191d65f4204e889a1aff420bded9efe) { $this->Execute("INSERT INTO `" . DB_PREFIX . "image_lang` (`id_image`, `id_lang`, `legend`) VALUES ('" . $this->escape($i05355412b857f5174e9a2f71b1e936a86ad60cd231fdb92b1ad676123c3451a8227828fd92c8be73) . "', '" . $this->escape($i05355412b857f5174e9a2f71b1e936a86ad60cd20e4db502c191d65f4204e889a1aff420bded9efe) . "', '')"); } $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("DESCRIBE " . DB_PREFIX . "image_shop"); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->rows AS $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952) { $i214db5810ddbfecf3fb7facdbdb537e1e2223ce5[] = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["Field"]; } } if (in_array("cover", $i214db5810ddbfecf3fb7facdbdb537e1e2223ce5)) { $this->Execute("INSERT INTO " . DB_PREFIX . "image_shop (`id_image`, `id_shop`, `cover`) VALUES (" . $i05355412b857f5174e9a2f71b1e936a86ad60cd231fdb92b1ad676123c3451a8227828fd92c8be73 . ", " . $i05355412b857f5174e9a2f71b1e936a86ad60cd2bde9096c2620747ae85e1b4216c173b802a53e29 . ", '1');"); } else { $this->Execute("INSERT INTO " . DB_PREFIX . "image_shop (`id_image`, `id_shop`) VALUES (" . $i05355412b857f5174e9a2f71b1e936a86ad60cd231fdb92b1ad676123c3451a8227828fd92c8be73 . ", " . $i05355412b857f5174e9a2f71b1e936a86ad60cd2bde9096c2620747ae85e1b4216c173b802a53e29 . ");"); } $i4b8f582cd41ee46bbfceb8d77897b8bd5e4a4db7 = '../modules/prestasms/img/logocart.png'; $i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a9f5b9a273db77914902b160d9133e7db74193e7 = '../modules/prestasms/img/logocart2.png'; $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM " . DB_PREFIX . "configuration where name='PS_LEGACY_IMAGES'"); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->rows AS $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952) { $i05355412b857f5174e9a2f71b1e936a86ad60cd23afc2cf8d54be6e07abfb1bf55440f164d29ad96 = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["value"]; } } if ($i05355412b857f5174e9a2f71b1e936a86ad60cd23afc2cf8d54be6e07abfb1bf55440f164d29ad96 == 1 && copy($i4b8f582cd41ee46bbfceb8d77897b8bd5e4a4db7, $i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a9f5b9a273db77914902b160d9133e7db74193e7)) { @rename('../modules/prestasms/logocart2.png', "../img/p/" . $i05355412b857f5174e9a2f71b1e936a86ad60cd2c513334e573d39745b582ce574d5daa04c56ef98 . "-" . $i05355412b857f5174e9a2f71b1e936a86ad60cd231fdb92b1ad676123c3451a8227828fd92c8be73 . "-small.jpg"); @copy("../img/p/" . $i05355412b857f5174e9a2f71b1e936a86ad60cd2c513334e573d39745b582ce574d5daa04c56ef98 . "-" . $i05355412b857f5174e9a2f71b1e936a86ad60cd231fdb92b1ad676123c3451a8227828fd92c8be73 . "-small.jpg", "../img/p/" . $i05355412b857f5174e9a2f71b1e936a86ad60cd2c513334e573d39745b582ce574d5daa04c56ef98 . "-" . $i05355412b857f5174e9a2f71b1e936a86ad60cd231fdb92b1ad676123c3451a8227828fd92c8be73 . "-small_default.jpg"); } elseif (copy($i4b8f582cd41ee46bbfceb8d77897b8bd5e4a4db7, $i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a9f5b9a273db77914902b160d9133e7db74193e7)) { $i05355412b857f5174e9a2f71b1e936a86ad60cd22ead8b3a5471ea6b80f97742df34a6be007e31a5 = "" . $i05355412b857f5174e9a2f71b1e936a86ad60cd231fdb92b1ad676123c3451a8227828fd92c8be73; $i05355412b857f5174e9a2f71b1e936a86ad60cd27454bee10be05828b2de926dd0f1c2fd49618449 = ""; for ($i05355412b857f5174e9a2f71b1e936a86ad60cd23fae119ac0a85b81b4cc02d0b9442bbd3d1c2cd4 = 0; $i05355412b857f5174e9a2f71b1e936a86ad60cd23fae119ac0a85b81b4cc02d0b9442bbd3d1c2cd4 < strlen($i05355412b857f5174e9a2f71b1e936a86ad60cd22ead8b3a5471ea6b80f97742df34a6be007e31a5); $i05355412b857f5174e9a2f71b1e936a86ad60cd23fae119ac0a85b81b4cc02d0b9442bbd3d1c2cd4++) { $i05355412b857f5174e9a2f71b1e936a86ad60cd2b584f54a0be935f7ee8332f9a65155eb2870a7be = $i05355412b857f5174e9a2f71b1e936a86ad60cd22ead8b3a5471ea6b80f97742df34a6be007e31a5{$i05355412b857f5174e9a2f71b1e936a86ad60cd23fae119ac0a85b81b4cc02d0b9442bbd3d1c2cd4}; $i05355412b857f5174e9a2f71b1e936a86ad60cd27454bee10be05828b2de926dd0f1c2fd49618449 .= "/" . $i05355412b857f5174e9a2f71b1e936a86ad60cd2b584f54a0be935f7ee8332f9a65155eb2870a7be; if (!is_dir("../img/p" . $i05355412b857f5174e9a2f71b1e936a86ad60cd27454bee10be05828b2de926dd0f1c2fd49618449)) { mkdir("../img/p" . $i05355412b857f5174e9a2f71b1e936a86ad60cd27454bee10be05828b2de926dd0f1c2fd49618449, 0777); } } rename($i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a9f5b9a273db77914902b160d9133e7db74193e7, "../img/p" . $i05355412b857f5174e9a2f71b1e936a86ad60cd27454bee10be05828b2de926dd0f1c2fd49618449 . "/" . $i05355412b857f5174e9a2f71b1e936a86ad60cd231fdb92b1ad676123c3451a8227828fd92c8be73 . ".jpg"); copy("../img/p" . $i05355412b857f5174e9a2f71b1e936a86ad60cd27454bee10be05828b2de926dd0f1c2fd49618449 . "/" . $i05355412b857f5174e9a2f71b1e936a86ad60cd231fdb92b1ad676123c3451a8227828fd92c8be73 . ".jpg", "../img/p" . $i05355412b857f5174e9a2f71b1e936a86ad60cd27454bee10be05828b2de926dd0f1c2fd49618449 . "/" . $i05355412b857f5174e9a2f71b1e936a86ad60cd231fdb92b1ad676123c3451a8227828fd92c8be73 . "-small_default.jpg"); copy("../img/p" . $i05355412b857f5174e9a2f71b1e936a86ad60cd27454bee10be05828b2de926dd0f1c2fd49618449 . "/" . $i05355412b857f5174e9a2f71b1e936a86ad60cd231fdb92b1ad676123c3451a8227828fd92c8be73 . ".jpg", "../img/p" . $i05355412b857f5174e9a2f71b1e936a86ad60cd27454bee10be05828b2de926dd0f1c2fd49618449 . "/" . $i05355412b857f5174e9a2f71b1e936a86ad60cd231fdb92b1ad676123c3451a8227828fd92c8be73 . "-small.jpg"); } if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c513334e573d39745b582ce574d5daa04c56ef98 > 0) { foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2a9b408995b78c94a78ae8cfc58351aa2f4baf4b9 as $i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4 => $i05355412b857f5174e9a2f71b1e936a86ad60cd20e4db502c191d65f4204e889a1aff420bded9efe) { $this->Execute("INSERT INTO " . DB_PREFIX . "product_lang (`id_product`, `id_shop`, `id_lang`, `description`, `description_short`, `link_rewrite`, `meta_description`, `meta_keywords`, `meta_title`, `name`, `available_now`, `available_later`) VALUES (" . $i05355412b857f5174e9a2f71b1e936a86ad60cd2c513334e573d39745b582ce574d5daa04c56ef98 . ", " . $i05355412b857f5174e9a2f71b1e936a86ad60cd2bde9096c2620747ae85e1b4216c173b802a53e29 . ", '" . $i05355412b857f5174e9a2f71b1e936a86ad60cd20e4db502c191d65f4204e889a1aff420bded9efe . "', '', '', 'infoSMS', '', '', '', '" . $i05355412b857f5174e9a2f71b1e936a86ad60cd262259e4d2a109cd2e2457f7ac21d96138638075f[$i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4] . "', '', '')"); } } } else { $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM " . DB_PREFIX . "product WHERE ean13 LIKE '" . SMS_EAN13 . "' LIMIT 1"); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->rows AS $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952) { $i05355412b857f5174e9a2f71b1e936a86ad60cd2c513334e573d39745b582ce574d5daa04c56ef98 = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["id_product"]; } } $this->Execute("UPDATE " . DB_PREFIX . "product SET price='" . $i05355412b857f5174e9a2f71b1e936a86ad60cd26ac79bdc940ae4cdd0107c72e3d0d238031e3903 . "',wholesale_price='" . $i05355412b857f5174e9a2f71b1e936a86ad60cd26ac79bdc940ae4cdd0107c72e3d0d238031e3903 . "' WHERE id_product=" . $i05355412b857f5174e9a2f71b1e936a86ad60cd2c513334e573d39745b582ce574d5daa04c56ef98); $this->Execute("UPDATE " . DB_PREFIX . "product_shop SET price='" . $i05355412b857f5174e9a2f71b1e936a86ad60cd26ac79bdc940ae4cdd0107c72e3d0d238031e3903 . "',wholesale_price='" . $i05355412b857f5174e9a2f71b1e936a86ad60cd26ac79bdc940ae4cdd0107c72e3d0d238031e3903 . "' WHERE id_product=" . $i05355412b857f5174e9a2f71b1e936a86ad60cd2c513334e573d39745b582ce574d5daa04c56ef98); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c513334e573d39745b582ce574d5daa04c56ef98 > 0) { $this->Execute("DELETE FROM " . DB_PREFIX . "product_lang WHERE id_product=" . $i05355412b857f5174e9a2f71b1e936a86ad60cd2c513334e573d39745b582ce574d5daa04c56ef98); foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2a9b408995b78c94a78ae8cfc58351aa2f4baf4b9 as $i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4 => $i05355412b857f5174e9a2f71b1e936a86ad60cd20e4db502c191d65f4204e889a1aff420bded9efe) { $this->Execute("INSERT INTO " . DB_PREFIX . "product_lang (`id_product`, `id_shop`, `id_lang`, `description`, `description_short`, `link_rewrite`, `meta_description`, `meta_keywords`, `meta_title`, `name`, `available_now`, `available_later`) VALUES (" . $i05355412b857f5174e9a2f71b1e936a86ad60cd2c513334e573d39745b582ce574d5daa04c56ef98 . ", " . $i05355412b857f5174e9a2f71b1e936a86ad60cd2bde9096c2620747ae85e1b4216c173b802a53e29 . ", '" . $i05355412b857f5174e9a2f71b1e936a86ad60cd20e4db502c191d65f4204e889a1aff420bded9efe . "', '', '', 'infoSMS', '', '', '', '" . $i05355412b857f5174e9a2f71b1e936a86ad60cd262259e4d2a109cd2e2457f7ac21d96138638075f[$i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4] . "', '', '')"); } } } } return true; }  public function getDefaultCurrency() { return "SELECT " . DB_PREFIX . "currency.iso_code AS `value` FROM " . DB_PREFIX . "currency WHERE " . DB_PREFIX . "currency.id_currency = (SELECT " . DB_PREFIX . "configuration.`value` FROM " . DB_PREFIX . "configuration WHERE " . DB_PREFIX . "configuration.`name` = \"PS_CURRENCY_DEFAULT\" ORDER BY id_shop LIMIT 1)"; }  public function getLanguages() { return "SELECT name, iso_code AS code FROM " . DB_PREFIX . "lang where active=1"; }  public function loadHooksForOrdersAdmin() { $i3ff53d5e7ee534eaa5dd359d3bebba11a731cd68 = Context::getContext(); $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM " . DB_PREFIX . "order_state INNER JOIN " . DB_PREFIX . "order_state_lang ON " . DB_PREFIX . "order_state.id_order_state = " . DB_PREFIX . "order_state_lang.id_order_state WHERE " . DB_PREFIX . "order_state_lang.id_lang = " . (int)$i3ff53d5e7ee534eaa5dd359d3bebba11a731cd68->language->id); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->rows as $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952) { $this->res_groups[0][$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['id_order_state']][] = "actionOrderStatusPostUpdate"; $this->res_hooks_info["actionOrderStatusPostUpdate"][$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['id_order_state']] = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['name'] . " [" . $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['id_order_state'] . "]"; $this->res_hooks_template["actionOrderStatusPostUpdate"][$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['id_order_state']] = v_smsprestashop_sqltemplate11 . strtolower($i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['name']) . v_smsprestashop_sqltemplate111; $this->res_hooks_notice["actionOrderStatusPostUpdate"][$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['id_order_state']] = v_smsprestashop_notice . "<br /> {customer_id}, {customer_email}, {customer_company}, {customer_lastname}, {customer_firstname}, {customer_address}, {customer_postcode}, {customer_city}, {customer_country}, {customer_state}, {customer_phone}, {customer_mobile}, {customer_invoice_company}, {customer_invoice_lastname}, {customer_invoice_firstname}, {customer_invoice_address}, {customer_invoice_postcode}, {customer_invoice_city}, {customer_invoice_country}, {customer_invoice_state}, {customer_invoice_phone}, {customer_invoice_mobile}<br /><br />{shop_domain}, {shop_name}, {shop_email}, {shop_phone}<br /><br />{order_id}, {order_payment}, {order_total_paid}, {order_currency}, {order_date}, {order_date1}, {order_date2}, {order_date3}, {order_date4}, {order_date5}, {order_date6}, {order_date7}, {order_time}, {order_time1}, {order_shipping_number}, {order_reference}, {carrier_id}, {carrier_name}, {customer_message}<br /><br />{order_products1}, {order_products2}, {order_products3}, {order_products4}, {order_products5}, {order_products6}, {order_products7}, {order_products8}, {order_products9}, {order_products10}, {order_products11}, {order_products12}<br /><br />{employee_id}, {employee_email}"; $this->res_hooks_background["actionOrderStatusPostUpdate"][$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['id_order_state']] = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["color"]; $this->res_hooks_icon["actionOrderStatusPostUpdate"][$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['id_order_state']] = ""; } } return true; }  public function loadHooksForReturnsAdmin() { return; }  public function loadHooksForOrdersCustomers() { $i3ff53d5e7ee534eaa5dd359d3bebba11a731cd68 = Context::getContext(); $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $this->Execute("SELECT * FROM " . DB_PREFIX . "order_state INNER JOIN " . DB_PREFIX . "order_state_lang ON " . DB_PREFIX . "order_state.id_order_state = " . DB_PREFIX . "order_state_lang.id_order_state WHERE " . DB_PREFIX . "order_state_lang.id_lang = " . (int)$i3ff53d5e7ee534eaa5dd359d3bebba11a731cd68->language->id); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->rows as $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952) { $this->res_groups[0][$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['id_order_state']][] = "actionOrderStatusPostUpdate"; $this->res_hooks_info["actionOrderStatusPostUpdate"][$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['id_order_state']] = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['name'] . " [" . $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['id_order_state'] . "]"; $this->res_hooks_template["actionOrderStatusPostUpdate"][$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['id_order_state']] = v_smsprestashop_sqltemplate211 . strtolower($i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['name']) . v_smsprestashop_sqltemplate2111; $this->res_hooks_notice["actionOrderStatusPostUpdate"][$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['id_order_state']] = v_smsprestashop_notice . "<br /> {customer_id}, {customer_email}, {customer_company}, {customer_lastname}, {customer_firstname}, {customer_address}, {customer_postcode}, {customer_city}, {customer_country}, {customer_state}, {customer_phone}, {customer_mobile}, {customer_vat_number}, {customer_invoice_company}, {customer_invoice_lastname}, {customer_invoice_firstname}, {customer_invoice_address}, {customer_invoice_postcode}, {customer_invoice_city}, {customer_invoice_country}, {customer_invoice_state}, {customer_invoice_phone}, {customer_invoice_mobile}, {customer_invoice_vat_number}<br /><br />{shop_domain}, {shop_name}, {shop_email}, {shop_phone}<br /><br />{order_id}, {order_payment}, {order_total_paid}, {order_currency}, {order_date}, {order_date1}, {order_date2}, {order_date3}, {order_date4}, {order_date5}, {order_date6}, {order_date7}, {order_time}, {order_time1}, {order_shipping_number}, {order_reference}, {carrier_id}, {carrier_name}, {customer_message}<br /><br />{order_products1}, {order_products2}, {order_products3}, {order_products4}, {order_products5}, {order_products6}, {order_products7}, {order_products8}, {order_products9}, {order_products10}, {order_products11}, {order_products12}<br /><br />{employee_id}, {employee_email}"; $this->res_hooks_background["actionOrderStatusPostUpdate"][$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['id_order_state']] = $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["color"]; $this->res_hooks_icon["actionOrderStatusPostUpdate"][$i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952['id_order_state']] = ""; } } }  public function loadHooksForReturnsCustomers() { return; }  static public function setSession($iaaee681b2ae1be145203cdac9fbc2c183819e0dd, $i05355412b857f5174e9a2f71b1e936a86ad60cd28eb4a4396d35945caca6d04c38a7144aaa51a5f5, $i05355412b857f5174e9a2f71b1e936a86ad60cd20e4db502c191d65f4204e889a1aff420bded9efe) { $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $iaaee681b2ae1be145203cdac9fbc2c183819e0dd->Execute("SELECT ID FROM `" . DB_PREFIX . "sp_settings` WHERE `name` ='" . $iaaee681b2ae1be145203cdac9fbc2c183819e0dd->escape($i05355412b857f5174e9a2f71b1e936a86ad60cd28eb4a4396d35945caca6d04c38a7144aaa51a5f5) . "'"); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { $iaaee681b2ae1be145203cdac9fbc2c183819e0dd->Execute("UPDATE `" . DB_PREFIX . "sp_settings` SET `value`='" . $iaaee681b2ae1be145203cdac9fbc2c183819e0dd->escape(base64_encode(serialize($i05355412b857f5174e9a2f71b1e936a86ad60cd20e4db502c191d65f4204e889a1aff420bded9efe))) . "' WHERE `ID`='" . $iaaee681b2ae1be145203cdac9fbc2c183819e0dd->escape($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->row["ID"]) . "'"); } else { $iaaee681b2ae1be145203cdac9fbc2c183819e0dd->Execute("INSERT INTO `" . DB_PREFIX . "sp_settings` (`name`, `value`) VALUES ('" . $iaaee681b2ae1be145203cdac9fbc2c183819e0dd->escape($i05355412b857f5174e9a2f71b1e936a86ad60cd28eb4a4396d35945caca6d04c38a7144aaa51a5f5) . "', '" . $iaaee681b2ae1be145203cdac9fbc2c183819e0dd->escape(base64_encode(serialize($i05355412b857f5174e9a2f71b1e936a86ad60cd20e4db502c191d65f4204e889a1aff420bded9efe))) . "')"); } }  static public function getSession($iaaee681b2ae1be145203cdac9fbc2c183819e0dd, $i05355412b857f5174e9a2f71b1e936a86ad60cd28eb4a4396d35945caca6d04c38a7144aaa51a5f5, $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = null) { $i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de = $iaaee681b2ae1be145203cdac9fbc2c183819e0dd->Execute("SELECT * FROM `" . DB_PREFIX . "sp_settings` WHERE `name` ='" . $iaaee681b2ae1be145203cdac9fbc2c183819e0dd->escape($i05355412b857f5174e9a2f71b1e936a86ad60cd28eb4a4396d35945caca6d04c38a7144aaa51a5f5) . "'"); if ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->num_rows) { foreach ($i05355412b857f5174e9a2f71b1e936a86ad60cd2c6e936002fe51b97bc1b95f337c09606ceb011de->rows as $i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = unserialize(base64_decode($i05355412b857f5174e9a2f71b1e936a86ad60cd243ef5aef4168652439ef5de195405ced9f0f7952["value"])); } } return $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89; }  static public function unsetSession($iaaee681b2ae1be145203cdac9fbc2c183819e0dd, $i05355412b857f5174e9a2f71b1e936a86ad60cd28eb4a4396d35945caca6d04c38a7144aaa51a5f5) { $iaaee681b2ae1be145203cdac9fbc2c183819e0dd->Execute("DELETE FROM `" . DB_PREFIX . "sp_settings` WHERE `name` ='" . $iaaee681b2ae1be145203cdac9fbc2c183819e0dd->escape($i05355412b857f5174e9a2f71b1e936a86ad60cd28eb4a4396d35945caca6d04c38a7144aaa51a5f5) . "'"); }  static public function addToArraySession($iaaee681b2ae1be145203cdac9fbc2c183819e0dd, $i05355412b857f5174e9a2f71b1e936a86ad60cd28eb4a4396d35945caca6d04c38a7144aaa51a5f5, $i05355412b857f5174e9a2f71b1e936a86ad60cd20e4db502c191d65f4204e889a1aff420bded9efe) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = self::getSession($iaaee681b2ae1be145203cdac9fbc2c183819e0dd, $i05355412b857f5174e9a2f71b1e936a86ad60cd28eb4a4396d35945caca6d04c38a7144aaa51a5f5, array()); $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89[] = $i05355412b857f5174e9a2f71b1e936a86ad60cd20e4db502c191d65f4204e889a1aff420bded9efe; self::setSession($iaaee681b2ae1be145203cdac9fbc2c183819e0dd, $i05355412b857f5174e9a2f71b1e936a86ad60cd28eb4a4396d35945caca6d04c38a7144aaa51a5f5, $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89); }  static public function incSession($iaaee681b2ae1be145203cdac9fbc2c183819e0dd, $i05355412b857f5174e9a2f71b1e936a86ad60cd28eb4a4396d35945caca6d04c38a7144aaa51a5f5, $i05355412b857f5174e9a2f71b1e936a86ad60cd27cac2c21ae76e411419318a7960be3261aba378f = 1) { $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 = self::getSession($iaaee681b2ae1be145203cdac9fbc2c183819e0dd, $i05355412b857f5174e9a2f71b1e936a86ad60cd28eb4a4396d35945caca6d04c38a7144aaa51a5f5, array()); $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89 += $i05355412b857f5174e9a2f71b1e936a86ad60cd27cac2c21ae76e411419318a7960be3261aba378f; self::setSession($iaaee681b2ae1be145203cdac9fbc2c183819e0dd, $i05355412b857f5174e9a2f71b1e936a86ad60cd28eb4a4396d35945caca6d04c38a7144aaa51a5f5, $iced8cbcfca3c880f0f157e119d1cc6f8691e7e89); }  public function smsLinkAddressBook($i05355412b857f5174e9a2f71b1e936a86ad60cd2b584f54a0be935f7ee8332f9a65155eb2870a7be = "A") { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=SendSms&token=' . filter_input(INPUT_GET, "token") . '&ajaxAction=addressBook&letter=' . $i05355412b857f5174e9a2f71b1e936a86ad60cd2b584f54a0be935f7ee8332f9a65155eb2870a7be; }  public function smsLinkRestoreTemplate($i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a) { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=SendSms&token=' . filter_input(INPUT_GET, "token") . "&ajaxAction=restoreTemplate&template=" . $i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a; }  public function smsLinkDeleteTemplate($i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a) { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=SendSms&token=' . filter_input(INPUT_GET, "token") . "&ajaxAction=deleteSaveTemplate&template=" . $i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a; }  public function smsLinkSaveTemplate() { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=SendSms&token=' . filter_input(INPUT_GET, "token") . "&ajaxAction=saveTemplate"; }  public function smsLinkSavedTemplate() { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=SendSms&token=' . filter_input(INPUT_GET, "token") . "&ajaxAction=loadTemplate"; }  public function smsLinkHistoryReload() { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=SmsHistory&token=' . filter_input(INPUT_GET, "token") . '&ajaxAction=reload'; }  public function smsLinkAnswersReload() { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=SmsAnswers&token=' . filter_input(INPUT_GET, "token") . '&ajaxAction=reload'; }  public function smsLinkCustomerSMSMutation() { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=CustomerSms&token=' . filter_input(INPUT_GET, "token"); }  public function smsLinkCustomerSMSMutationSelect($iff3ebb3dc09765074cbc44bf85648fbb313741d9) { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=CustomerSms&token=' . filter_input(INPUT_GET, "token") . '&submitEditMutation=1&submit=submitEditMutation&mutation=' . $iff3ebb3dc09765074cbc44bf85648fbb313741d9; }  public function smsLinkRestoreMarketingTemplate($i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a) { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=SmsMarketing&token=' . filter_input(INPUT_GET, "token") . "&ajaxAction=restoreTemplate&template=" . $i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a; }  public function smsLinkDeleteMarketingTemplate($i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a) { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=SmsMarketing&token=' . filter_input(INPUT_GET, "token") . "&ajaxAction=deleteSaveTemplate&template=" . $i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a; }  public function smsLinkSaveMarketingTemplate() { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=SmsMarketing&token=' . filter_input(INPUT_GET, "token") . "&ajaxAction=saveTemplate"; }  public function smsLinkSavedMarketingTemplate() { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=SmsMarketing&token=' . filter_input(INPUT_GET, "token") . "&ajaxAction=loadTemplate"; }  public function smsLinkMarketingMore($i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4) { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=SmsMarketing&token=' . filter_input(INPUT_GET, "token") . '&ajaxAction=showCustomers&letter=' . strtolower($i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4); }  public function smsLinkCustomer($i1c935e77973f359446ebeec178b9049130734c99) { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=AdminCustomers&id_customer=' . $i1c935e77973f359446ebeec178b9049130734c99 . '&viewcustomer&token=' . $this->getAdminToken("AdminCustomers"); }  public function smsLinkRemoveCustomerList($i1c935e77973f359446ebeec178b9049130734c99, $i00efcf19066e03a8c92199d52680ac49fc276029, $i05355412b857f5174e9a2f71b1e936a86ad60cd27a98d658be588d4445424cf150e6ff12d597e50d) { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=SmsMarketing&token=' . filter_input(INPUT_GET, "token") . '&ajaxAction=deleteCustomer&customer=' . htmlspecialchars($i1c935e77973f359446ebeec178b9049130734c99) . '&firstname=' . htmlspecialchars($i00efcf19066e03a8c92199d52680ac49fc276029) . '&lastname=' . htmlspecialchars($i05355412b857f5174e9a2f71b1e936a86ad60cd27a98d658be588d4445424cf150e6ff12d597e50d); }  public function smsLinkAddFilter() { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=SmsMarketing&token=' . filter_input(INPUT_GET, "token"); }  public function smsLinkClearFilter() { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=SmsMarketing&token=' . filter_input(INPUT_GET, "token") . "&ajaxAction=clearFilter"; }  public function smsLinkSaveFilter() { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=SmsMarketing&token=' . filter_input(INPUT_GET, "token") . "&ajaxAction=saveFilter"; }  public function smsLinkRestoreFilter($i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a) { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=SmsMarketing&token=' . filter_input(INPUT_GET, "token") . "&ajaxAction=restoreFilter&filter=" . $i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a; }  public function smsLinkDeleteFilter($i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a) { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=SmsMarketing&token=' . filter_input(INPUT_GET, "token") . "&ajaxAction=deleteSaveFilter&filter=" . $i05355412b857f5174e9a2f71b1e936a86ad60cd287395dcafb6eb7221410dbcd87e9e8ce0007214a; }  public function smsLinkLoadFilter() { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=SmsMarketing&token=' . filter_input(INPUT_GET, "token") . "&ajaxAction=loadFilter"; }  public function smsLinkTimezone() { return filter_input(INPUT_SERVER, "PHP_SELF") . "?controller=AdminLocalization&token=" . $this->getAdminToken("AdminLocalization"); }  public function smsLinkPageSave($i698e6f64ca4934e15ff68883b32c0e3ae044df24) { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=' . filter_input(INPUT_GET, "controller") . '&token=' . filter_input(INPUT_GET, "token") . base64_decode("JmZpbHRlcj0=") . $i698e6f64ca4934e15ff68883b32c0e3ae044df24; }  static public function smsLinkUnsetFilter($i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4, $i89f751ccf6afda777c66b028c1f4d2bf7a371bbd) { return filter_input(INPUT_SERVER, "PHP_SELF") . '?controller=' . filter_input(INPUT_GET, "controller") . '&token=' . filter_input(INPUT_GET, "token") . '&ajaxAction=deleteFilter&idFilter=' . $i05355412b857f5174e9a2f71b1e936a86ad60cd27baa31be52215025da340cfec29600d8d2b327c4 . '&indexFilter=' . $i89f751ccf6afda777c66b028c1f4d2bf7a371bbd; } }  class dbConnectorResult { public $num_rows = 0; public $rows = array(); public $row = array(); }
<?php
$GLOBALS["ZgktZXgZBtPxUsyMdnKI"]=base64_decode("dmlld3MvdGVtcGxhdGVzL2FkbWluL2NhdGVnb3J5d2lkZ2V0L2FqYXhDYXRMaXN0LnRwbA==");$GLOBALS["YombVxALRnNzRSqzWYRf"]=base64_decode("bGFuZ19pZA==");$GLOBALS["IgLbvOpwZdnmYGKzUUPl"]=base64_decode("dmlld3MvdGVtcGxhdGVzL2FkbWluL2NhdGVnb3J5d2lkZ2V0L2xpc3QudHBs");$GLOBALS["FLIovxVepvrPFelUHGgg"]=base64_decode("LnBocA==");$GLOBALS["nDEJLLgmYTqibpsduIYl"]=base64_decode("Y2F0ZWdvcmllcw==");$GLOBALS["nEkwJkNRGhInBPpOaNGh"]=base64_decode("Li4vbW9kdWxlcy8=");$GLOBALS["IoqgiRzIgaciAwtOXQ"]=base64_decode("MS42LjAuMTQ=");$GLOBALS["gZDIhWjXpJxdKvyOgJsz"]=base64_decode("MS42LjAuMTE=");$GLOBALS["dbEXpZgQVDSEmmPcvfFL"]=base64_decode("MS42LjAuOQ==");$GLOBALS["FvQumeVdZTqrUNMXVSuD"]=base64_decode("MS42LjAuOA==");$GLOBALS["WhPaKuxMFKQyYJOerhPi"]=base64_decode("MS42LjAuNg==");$GLOBALS["yxSpaBleNyJQsNbalhev"]=base64_decode("c3VidHJlZV9hc3NvY2lhdGVkX2NhdGVnb3JpZXM=");$GLOBALS["dCHkNdBLRbYnoAiDQEGN"]=base64_decode("c2VsZWN0ZWQ=");$GLOBALS["QVWFuLyKVyGmMRnfrqPG"]=base64_decode("aWRfY2F0ZWdvcnk=");$GLOBALS["LJTHLhlVCRJagjxLojur"]=base64_decode("Ym9vbA==");$GLOBALS["kqpjokinrNKzMlmecrBs"]=base64_decode("dHlwZQ==");$GLOBALS["pfcfJhkXuTCKuuGHHo"]=base64_decode("YWN0aXZl");$GLOBALS["wNsIzAENMTzOMrIYmfM"]=base64_decode("RGlzcGxheWVk");$GLOBALS["UFujgwYVohAfSloovsTJ"]=base64_decode("d2lkZ2V0X3N0YXR1cw==");$GLOBALS["BgYwbjILVyLWofMbOdvj"]=base64_decode("Zml4ZWQtd2lkdGgtc20=");$GLOBALS["tdWhDrlfGiHoGlUdRxSL"]=base64_decode("UG9zaXRpb24=");$GLOBALS["qNfvvyesRmydHthVAwLi"]=base64_decode("d2lkZ2V0X3Bvc2l0aW9u");$GLOBALS["wKAPrHUzvaPjeFbGMzSG"]=base64_decode("b3JkZXJieQ==");$GLOBALS["gyKEqlGfKJVsMJSTnBXC"]=base64_decode("bWF4bGVuZ3Ro");$GLOBALS["hwscdmXixPwnaXYiRUCz"]=base64_decode("V2lkZ2V0IENvZGU=");$GLOBALS["aDwnIlIdmURDJOblnNvA"]=base64_decode("d2lkZ2V0X2NvZGU=");$GLOBALS["VZoAAqJHUXTntVVpYIE"]=base64_decode("YXV0bw==");$GLOBALS["sVIBZICjQAmbdrUgdFE"]=base64_decode("d2lkdGg=");$GLOBALS["WLhxBLhWflGBqwmgQqAQ"]=base64_decode("TGFibGU=");$GLOBALS["muekMZgqwBPBWVTxdBoE"]=base64_decode("d2lkZ2V0X2xhYmVs");$GLOBALS["odZVUzqwwgGVrCrHjIQQ"]=base64_decode("Zml4ZWQtd2lkdGgteHM=");$GLOBALS["vdjIefYgSTpdWUPUWviC"]=base64_decode("Y2xhc3M=");$GLOBALS["xgZmupJsgJhdlOsVZNMr"]=base64_decode("Y2VudGVy");$GLOBALS["eyoNIGALmALZnGlirqLv"]=base64_decode("YWxpZ24=");$GLOBALS["iAmJkrDwZbvdHbzAxugA"]=base64_decode("SUQ=");$GLOBALS["FKJJSrcKfNlcouSwAAmL"]=base64_decode("dGl0bGU=");$GLOBALS["EHNyOQmBmvBGOmZdcrZU"]=base64_decode("d2lkZ2V0X2lk");$GLOBALS["waWafEeALmeXuRDBxZD"]=base64_decode("aWRfbGFuZw==");$GLOBALS["rgIkImLrAaQHjdciiuxP"]=base64_decode("bGFuZw==");$GLOBALS["QtEUsTJtpbbqkrdVleSM"]=base64_decode("bGFuZ3VhZ2Vz");$GLOBALS["fWYQruiocelsEWLQucjP"]=base64_decode("YXBw");$GLOBALS["KdqeKagYASBmzizzuwoJ"]=base64_decode("bW9kdWxlZGly");$GLOBALS["RcYLSIKNuWCsdyStwgdG"]=base64_decode("Y2F0ZWdvcnlCb3g=");$GLOBALS["udCFzApudRZVvnptNsFe"]=base64_decode("bGFuZ3VhZ2VTZWxlY3RlZA==");$GLOBALS["WarxExPCelIObaLZIjaC"]=base64_decode("TUNDYXRlZ29yeVdpZGdldA==");$GLOBALS["YwfGkkVHVAOLiWEAedGd"]=base64_decode("Y2F0ZWdvcnlCYW5uZXJJbWFnZQ==");$GLOBALS["vyBMAvubOGZOIQjfIXQb"]=base64_decode("dG1wX25hbWU=");$GLOBALS["hQMtQEXNnpjUEYrLmOsm"]=base64_decode("Lg==");$GLOBALS["KICHKzQXGDEHghVEOvoN"]=base64_decode("L21lZGlhL21vYmlfY29tbWVyY2UvY2F0ZWdvcnk=");$GLOBALS["buPYivxvxwZHBKlMvyjX"]=base64_decode("L21lZGlhL21vYmlfY29tbWVyY2U=");$GLOBALS["yRxXBWkyKplSSwKpGOWA"]=base64_decode("L21lZGlhL21vYmlfY29tbWVyY2UvY2F0ZWdvcnkv");$GLOBALS["HxFVAsYfDJUhqljLhGVN"]=base64_decode("cG5n");$GLOBALS["GPUWYVwrEpYhQRaomJSC"]=base64_decode("Z2lm");$GLOBALS["kKRPocwRxmeWHHCEUqVA"]=base64_decode("anBlZw==");$GLOBALS["XokJOpMzkLNtUQeqknGv"]=base64_decode("anBn");$GLOBALS["BoWuBfavKqJxeLgCuLA"]=base64_decode("bmFtZQ==");$GLOBALS["OCLKFrmRHsQctmzTLdSv"]=base64_decode("Y2F0ZWdvcnlJbWFnZQ==");$GLOBALS["tugkmwKQmrdyfghQnRJj"]=base64_decode("");$GLOBALS["CzOUPVtFquOEKVuozLLn"]=base64_decode("c3VibWl0QWRkQ2F0ZWdvcnlJbWFnZQ==");$GLOBALS["sxVALmpUOyAaYsrTXikR"]=base64_decode("Y2F0ZWdvcnk=");$GLOBALS["WKDFTKMcgbwGYwVhdPAD"]=base64_decode("d2lkZ2V0X3Bvc2l0aW9uX2xpc3Q=");$GLOBALS["vgLaMAkTDaWMeLKeoEE"]=base64_decode("YWpheA==");$GLOBALS["kRbWFdQybWGABvRUWChl"]=base64_decode("YWRk");$GLOBALS["qjyrbaSWTMdPGjFy"]=base64_decode("YWN0aW9u");$GLOBALS["nSJKIbwEaJNgERyWWCPT"]=base64_decode("L3ZpZXdzL2Nzcy9hZG1pbi9tYWluLmNzcw==");$GLOBALS["jvZORRgGSNWNxgehatoy"]=base64_decode("YWRtaW4vdGlueW1jZS5pbmMuanM=");$GLOBALS["eXIgUCDmIaRLImAGqpCI"]=base64_decode("dGlueV9tY2UvdGlueV9tY2UuanM=");$GLOBALS["neUEEMxTZtPsjlITsrHo"]=base64_decode("dmFsaWRhdGU=");$GLOBALS["vxRduGtdZuehqfTHDhBM"]=base64_decode("bWNjYXRlZ29yeXdpZGdldA==");$GLOBALS["gbSpzfJszpipGSCWLQut"]=base64_decode("TUNDYXRlZ29yeVdpZGdldE9iamVjdA==");$GLOBALS["ftGVwvSfpaHQMruwLaYD"]=base64_decode("bW9iaWNvbW1lcmNlX2NhdGVnb3J5X3dpZGdldDM=");$GLOBALS["tkIGKVRJoUXzHqlPHMUx"]=base64_decode("ZGVsZXRl");$GLOBALS["JBbkvEXEDylsAzlwMyzh"]=base64_decode("ZWRpdA==");$GLOBALS["njyaJmZboucmVAmNzHMD"]=base64_decode("L01DQWJzdHJhY3QucGhw");$GLOBALS["JygOtWXVnQnPTMSmLwAF"]=base64_decode("Ly4uLy4uL2NsYXNzZXMvTUNDYXRlZ29yeVdpZGdldC5waHA=");$GLOBALS["liYFZBtabbifPMxRWsa"]=base64_decode("cGF0aA==");$GLOBALS["xkvCYghUMLVuEwKycyVk"]=base64_decode("d2lkZ2V0SW1hZ2U=");$GLOBALS["YaLPcvUuarwMRMRByDpi"]=base64_decode("d2lkZ2V0TGlzdA==");$GLOBALS["YBGuJfsqPEcrNDgMyAqU"]=base64_decode("bGFuZw==");$GLOBALS["rukeffjePbegVcxuDnNw"]=base64_decode("Y2F0");$GLOBALS["roYXPgGHyqTGHHowKpLs"]=base64_decode("JmlkX2NhdGVnb3J5PQ==");$GLOBALS["kEyGrNKVitGXTHzdqRqv"]=base64_decode("Jmxhbmc9");$GLOBALS["eQCcqLchNCrLcIgdvjoE"]=base64_decode("RXJyb3IgaW4gc2F2ZSBpbWFnZQ==");$GLOBALS["HeMuUzhrpBmBwEqLcUDa"]=base64_decode("Q2F0ZWdvcnkgSW1hZ2UgVXBsb2FkZWQ=");$GLOBALS["hRWIghiOsmDcfijVidi"]=base64_decode("Y2F0ZWdvcnlCYW5uZXJJbWFnZQ==");$GLOBALS["FOWOvBvARQUfOoITtXGV"]=base64_decode("RXJyb3IgaW4gdXBsb2FkaW5n");$GLOBALS["PGnDVWIKgIUmFrZyuhhU"]=base64_decode("dG1wX25hbWU=");$GLOBALS["BtvtIDusFVVtamMGHUwM"]=base64_decode("Y2F0ZWdvcnlJbWFnZQ==");$GLOBALS["yFgegkGnyjaqCdXlCeGu"]=base64_decode("d2lkZ2V0X2lk");
?><?php


include_once(dirname(__FILE__).$GLOBALS["JygOtWXVnQnPTMSmLwAF"]);

include_once (dirname ( __FILE__ ) . $GLOBALS["njyaJmZboucmVAmNzHMD"]);
class MCCategoryWidgetController extends MCAbstract {

    public $bootstrap = true;
    public $module;
    protected $available_tabs_lang = array();

    public function __construct()
    {
        $this->addRowAction($GLOBALS["JBbkvEXEDylsAzlwMyzh"]);         $this->addRowAction($GLOBALS["tkIGKVRJoUXzHqlPHMUx"]);                 $this->explicitSelect = true;
        $this->context = Context::getContext();
        $this->id_lang = $this->context->language->id;
        $this->path = _MODULE_DIR_.$this->module->name;
        
        $this->bootstrap = true;
        $this->lang = false;
        $this->default_form_language = $this->context->language->id;
        $this->table = $GLOBALS["ftGVwvSfpaHQMruwLaYD"];         $this->className = $GLOBALS["gbSpzfJszpipGSCWLQut"];         $this->identifier = $GLOBALS["yFgegkGnyjaqCdXlCeGu"];         $this->list_id = $GLOBALS["vxRduGtdZuehqfTHDhBM"];
        $this->tpl_folder = $GLOBALS["vxRduGtdZuehqfTHDhBM"];
        parent::__construct();
    }
    
    public function setMedia()
    {
        parent::setMedia();
        $this->addjQueryPlugin(array(
                $GLOBALS["neUEEMxTZtPsjlITsrHo"]
            ));
        
        $this->addJS(array(
            _PS_JS_DIR_.$GLOBALS["eXIgUCDmIaRLImAGqpCI"],
            _PS_JS_DIR_.$GLOBALS["jvZORRgGSNWNxgehatoy"],
            ));
        $this->addCSS(_PS_MODULE_DIR_.$this->module->name.$GLOBALS["nSJKIbwEaJNgERyWWCPT"]);
    }
    
    public function initProcess()
    {
        if (!isset($_REQUEST[$GLOBALS["qjyrbaSWTMdPGjFy"]]))
            parent::initProcess();
        else
            $this->id_object = (int)Tools::getValue($this->identifier);
    }
    
    public function initContent($token = null)
    {
        if ($this->display == $GLOBALS["JBbkvEXEDylsAzlwMyzh"] || $this->display == $GLOBALS["kRbWFdQybWGABvRUWChl"])
        {
            $this->fields_form = array();
            if ($this->ajax || Tools::getValue('ajax') == 1)
                $this->content_only = true;
        }
        
        parent::initContent();
    }   
    
    public function postProcess()
    {
        
        if(isset($_POST[$GLOBALS["WKDFTKMcgbwGYwVhdPAD"]]) && !empty($_POST[$GLOBALS["WKDFTKMcgbwGYwVhdPAD"]])){
            $current_object = $this->loadObject ( true );
            $current_object->updateWidgetPosition($_POST[$GLOBALS["WKDFTKMcgbwGYwVhdPAD"]], $GLOBALS["sxVALmpUOyAaYsrTXikR"]);
        }

        if (Tools::isSubmit($GLOBALS["CzOUPVtFquOEKVuozLLn"]))
        {
            $thumbnail_image = $GLOBALS["tugkmwKQmrdyfghQnRJj"];
            $banner_image = $GLOBALS["tugkmwKQmrdyfghQnRJj"];

            if(isset($_FILES[$GLOBALS["OCLKFrmRHsQctmzTLdSv"]][$GLOBALS["BoWuBfavKqJxeLgCuLA"]]) && !empty($_FILES[$GLOBALS["OCLKFrmRHsQctmzTLdSv"]][$GLOBALS["BoWuBfavKqJxeLgCuLA"]]))
            {
                $allowed_files_arr = array('jpg','jpeg','gif','png');
                $media_path = _PS_MODULE_DIR_.$this->module->name.$GLOBALS["yRxXBWkyKplSSwKpGOWA"];

                if(!file_exists(_PS_MODULE_DIR_.$this->module->name.$GLOBALS["buPYivxvxwZHBKlMvyjX"]))
                    @mkdir(_PS_MODULE_DIR_.$this->module->name.$GLOBALS["buPYivxvxwZHBKlMvyjX"], 0755);

                if(!file_exists(_PS_MODULE_DIR_.$this->module->name.$GLOBALS["KICHKzQXGDEHghVEOvoN"]))
                    @mkdir(_PS_MODULE_DIR_.$this->module->name.$GLOBALS["KICHKzQXGDEHghVEOvoN"], 0755);                

                $shareImagename = uniqid().$GLOBALS["hQMtQEXNnpjUEYrLmOsm"].PATHINFO($_FILES[$GLOBALS["OCLKFrmRHsQctmzTLdSv"]][$GLOBALS["BoWuBfavKqJxeLgCuLA"]], PATHINFO_EXTENSION);
                $file_ext = PATHINFO($_FILES[$GLOBALS["OCLKFrmRHsQctmzTLdSv"]][$GLOBALS["BoWuBfavKqJxeLgCuLA"]], PATHINFO_EXTENSION);

                if(!empty($_FILES[$GLOBALS["OCLKFrmRHsQctmzTLdSv"]][$GLOBALS["vyBMAvubOGZOIQjfIXQb"]]) && in_array($file_ext,$allowed_files_arr))
                {
                    $tmp_name = $_FILES[$GLOBALS["BtvtIDusFVVtamMGHUwM"]][$GLOBALS["PGnDVWIKgIUmFrZyuhhU"]];
                    if(!move_uploaded_file($tmp_name, $media_path.$shareImagename))
                    {
                        $this->errors[] = $GLOBALS["FOWOvBvARQUfOoITtXGV"];
                                            }
                    else
                    {
                        $current_object = $this->loadObject(true);
                        $thumbnail_image = $shareImagename;
                    }
                }
            }

            if(isset($_FILES[$GLOBALS["YwfGkkVHVAOLiWEAedGd"]][$GLOBALS["BoWuBfavKqJxeLgCuLA"]]) && !empty($_FILES[$GLOBALS["YwfGkkVHVAOLiWEAedGd"]][$GLOBALS["BoWuBfavKqJxeLgCuLA"]]))
            {
                $allowed_files_arr = array('jpg','jpeg','gif','png');
                $media_path = _PS_MODULE_DIR_.$this->module->name.$GLOBALS["yRxXBWkyKplSSwKpGOWA"];

                if(!file_exists(_PS_MODULE_DIR_.$this->module->name.$GLOBALS["buPYivxvxwZHBKlMvyjX"]))
                    @mkdir(_PS_MODULE_DIR_.$this->module->name.$GLOBALS["buPYivxvxwZHBKlMvyjX"], 0755);

                if(!file_exists(_PS_MODULE_DIR_.$this->module->name.$GLOBALS["KICHKzQXGDEHghVEOvoN"]))
                    @mkdir(_PS_MODULE_DIR_.$this->module->name.$GLOBALS["KICHKzQXGDEHghVEOvoN"], 0755);                

                $shareImagename = uniqid().$GLOBALS["hQMtQEXNnpjUEYrLmOsm"].PATHINFO($_FILES[$GLOBALS["YwfGkkVHVAOLiWEAedGd"]][$GLOBALS["BoWuBfavKqJxeLgCuLA"]], PATHINFO_EXTENSION);
                $file_ext = PATHINFO($_FILES[$GLOBALS["YwfGkkVHVAOLiWEAedGd"]][$GLOBALS["BoWuBfavKqJxeLgCuLA"]], PATHINFO_EXTENSION);

                if(!empty($_FILES[$GLOBALS["YwfGkkVHVAOLiWEAedGd"]][$GLOBALS["vyBMAvubOGZOIQjfIXQb"]]) && in_array($file_ext,$allowed_files_arr))
                {
                    $tmp_name = $_FILES[$GLOBALS["hRWIghiOsmDcfijVidi"]][$GLOBALS["PGnDVWIKgIUmFrZyuhhU"]];
                    if(!move_uploaded_file($tmp_name, $media_path.$shareImagename))
                    {
                        $this->errors[] = $GLOBALS["FOWOvBvARQUfOoITtXGV"];
                                            }
                    else
                    {
                        $current_object = $this->loadObject(true);
                        $banner_image = $shareImagename;
                    }
                }
            }

            if($current_object->saveImage($_POST, $thumbnail_image, $banner_image))
            {
                $this->confirmations[] = $GLOBALS["HeMuUzhrpBmBwEqLcUDa"];
            }
            else
            {
                $this->errors[] = $GLOBALS["eQCcqLchNCrLcIgdvjoE"];
            }

            $this->redirect_after = $this->context->link->getAdminLink($GLOBALS["WarxExPCelIObaLZIjaC"]).$GLOBALS["kEyGrNKVitGXTHzdqRqv"].Tools::getValue($GLOBALS["udCFzApudRZVvnptNsFe"]).$GLOBALS["roYXPgGHyqTGHHowKpLs"].Tools::getValue($GLOBALS["RcYLSIKNuWCsdyStwgdG"]);
        }
    }
    
    public function renderList()
    {
        $current_object = $this->loadObject(true);
        $languages = Language::getLanguages();
            $this->context->smarty->assign(array(
                $GLOBALS["KdqeKagYASBmzizzuwoJ"] => _PS_MODULE_DIR_,
                $GLOBALS["fWYQruiocelsEWLQucjP"]       => $current_object,
                $GLOBALS["QtEUsTJtpbbqkrdVleSM"] => $languages,
        ));

        if(Tools::getValue($GLOBALS["rgIkImLrAaQHjdciiuxP"]))
        {
            $lang = Tools::getValue($GLOBALS["rgIkImLrAaQHjdciiuxP"]);
        }
        else
        {
            $lang = $languages[0][$GLOBALS["waWafEeALmeXuRDBxZD"]];
        }
       
        $this->fields_list = array(
            'widget_id'       => array('title' => $this->l('ID'), $GLOBALS["eyoNIGALmALZnGlirqLv"] => $GLOBALS["xgZmupJsgJhdlOsVZNMr"], $GLOBALS["vdjIefYgSTpdWUPUWviC"] => $GLOBALS["odZVUzqwwgGVrCrHjIQQ"]),
            $GLOBALS["muekMZgqwBPBWVTxdBoE"]    => array('title' => $this->l('Lable'), $GLOBALS["sVIBZICjQAmbdrUgdFE"] => $GLOBALS["VZoAAqJHUXTntVVpYIE"]),
            $GLOBALS["aDwnIlIdmURDJOblnNvA"]     => array('title' => $this->l('Widget Code'), $GLOBALS["gyKEqlGfKJVsMJSTnBXC"] => 90, $GLOBALS["wKAPrHUzvaPjeFbGMzSG"] => false),
            $GLOBALS["qNfvvyesRmydHthVAwLi"] => array('title' => $this->l('Position'), $GLOBALS["eyoNIGALmALZnGlirqLv"] => $GLOBALS["xgZmupJsgJhdlOsVZNMr"], $GLOBALS["vdjIefYgSTpdWUPUWviC"] => $GLOBALS["BgYwbjILVyLWofMbOdvj"]),
            $GLOBALS["UFujgwYVohAfSloovsTJ"] => array(
                'title' => $this->l('Displayed'), $GLOBALS["vdjIefYgSTpdWUPUWviC"] => $GLOBALS["BgYwbjILVyLWofMbOdvj"], $GLOBALS["pfcfJhkXuTCKuuGHHo"] => $GLOBALS["UFujgwYVohAfSloovsTJ"],
                $GLOBALS["eyoNIGALmALZnGlirqLv"] => $GLOBALS["xgZmupJsgJhdlOsVZNMr"],$GLOBALS["kqpjokinrNKzMlmecrBs"] => $GLOBALS["LJTHLhlVCRJagjxLojur"], $GLOBALS["wKAPrHUzvaPjeFbGMzSG"] => false
              ));
        
        if(Tools::getValue($GLOBALS["QVWFuLyKVyGmMRnfrqPG"]))
        {
            $cat = Tools::getValue($GLOBALS["QVWFuLyKVyGmMRnfrqPG"]);
            $selected = Tools::getValue($GLOBALS["dCHkNdBLRbYnoAiDQEGN"], array($cat));
            $widgetList = $current_object->getListCatWidget($cat);
            $widgetImage = $current_object->getCatWidgetImage($cat);
        }
        else
        {
            $cat = Category::getRootCategory()->id;
            $selected = Tools::getValue($GLOBALS["dCHkNdBLRbYnoAiDQEGN"], array($cat));
            $widgetList = $current_object->getListCatWidget($cat);
            $widgetImage = $current_object->getCatWidgetImage($cat);
        }

        $category = Tools::getValue($GLOBALS["sxVALmpUOyAaYsrTXikR"], Category::getRootCategory()->id);
        $current_object = $this->loadObject(true);
                $categories = new HelperTreeCategories($GLOBALS["yxSpaBleNyJQsNbalhev"], null, (int)$category, null, false);
        $categories
            ->setUseCheckBox(false)
            ->setUseSearch(false)
            ->setSelectedCategories($selected)
            ->setRootCategory($category)
            ->setLang($lang);
        if(in_array(_PS_VERSION_, array('1.6.0.6', '1.6.0.8', '1.6.0.9', '1.6.0.11', '1.6.0.14')))
        {
            
        }
        else
        {
            $categories
                ->setFullTree(true)
                ->setChildrenOnly(true)
                ->setNoJS(false);
        }
        
        $path = $GLOBALS["nEkwJkNRGhInBPpOaNGh"].$this->module->name.$GLOBALS["yRxXBWkyKplSSwKpGOWA"];      
        $this->context->smarty->assign(array(
            $GLOBALS["nDEJLLgmYTqibpsduIYl"]  => $categories,
            $GLOBALS["rukeffjePbegVcxuDnNw"]         => $cat,
            $GLOBALS["YBGuJfsqPEcrNDgMyAqU"]        => $lang,
            $GLOBALS["YaLPcvUuarwMRMRByDpi"]  => $widgetList,
            $GLOBALS["xkvCYghUMLVuEwKycyVk"] => $widgetImage,
            $GLOBALS["liYFZBtabbifPMxRWsa"]        => $path
            ));
        
        $this->context->smarty->assign($this->tpl_form_vars);
        return $this->module->display(_PS_MODULE_DIR_.$this->module->name.DIRECTORY_SEPARATOR.$this->module->name.$GLOBALS["FLIovxVepvrPFelUHGgg"],  $GLOBALS["IgLbvOpwZdnmYGKzUUPl"]);
    }
  
    public function ajaxProcessfetchCategories()
    {
        $selected = Tools::getValue($GLOBALS["dCHkNdBLRbYnoAiDQEGN"], array(5));
        $category = Tools::getValue($GLOBALS["sxVALmpUOyAaYsrTXikR"], Category::getRootCategory()->id);
        $current_object = $this->loadObject(true);
                $categories = new HelperTreeCategories($GLOBALS["yxSpaBleNyJQsNbalhev"], null, (int)$category, null, false);
        $categories
            ->setUseCheckBox(false)
            ->setUseSearch(false)
            ->setSelectedCategories($selected)
            ->setRootCategory($category)
            ->setLang(Tools::getValue($GLOBALS["YombVxALRnNzRSqzWYRf"]));
        if(in_array(_PS_VERSION_, array('1.6.0.6', '1.6.0.8', '1.6.0.9', '1.6.0.11', '1.6.0.14')))
        {
            
        }
        else
        {
            $categories
                ->setFullTree(true)
                ->setChildrenOnly(true)
                ->setNoJS(false);
        }
                
        $this->context->smarty->assign(array(
            $GLOBALS["KdqeKagYASBmzizzuwoJ"]  => _PS_MODULE_DIR_,
            $GLOBALS["fWYQruiocelsEWLQucjP"]        => $current_object,
            $GLOBALS["nDEJLLgmYTqibpsduIYl"] => $categories,
            ));

        $more = $this->module->display(_PS_MODULE_DIR_.$this->module->name.DIRECTORY_SEPARATOR.$this->module->name.$GLOBALS["FLIovxVepvrPFelUHGgg"], $GLOBALS["ZgktZXgZBtPxUsyMdnKI"]);
        echo $more;
    }
}
 ?>
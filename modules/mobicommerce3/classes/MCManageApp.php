<?php
$GLOBALS["HLRfIBMCSDQyIxGxUEw"]=base64_decode("bW9iaWNvbW1lcmNlX3B1c2hoaXN0b3J5");$GLOBALS["BiPqrBarFHDTfSHckFAo"]=base64_decode("CgkJCQ==");$GLOBALS["oQmozerNEjRIoKxpAPxz"]=base64_decode("CgkJCVNFTEVDVCAqCgkJCUZST00g");$GLOBALS["nfvsKvGxTYMTPdyyGviF"]=base64_decode("aG9tZXBhZ2VfY2F0ZWdvcmllcw==");$GLOBALS["UxyPZYSAbhTmpsJADXgj"]=base64_decode("IEFORCA=");$GLOBALS["LmWcoWgMTGYOTGlcfraa"]=base64_decode("bW9iaWNvbW1lcmNlX2RldmljZXRva2VucyBXSEVSRSA=");$GLOBALS["ObPMBnloWfQEXONfvzIX"]=base64_decode("U0VMRUNUICogRlJPTSA=");$GLOBALS["wSfuBoeYpfUIujmRlQk"]=base64_decode("aW9z");$GLOBALS["EHiRNQghuCWvldKkmNlm"]=base64_decode("YW5kcm9pZA==");$GLOBALS["ZzZFnmFHatpWaxufrAtd"]=base64_decode("Ym90aA==");$GLOBALS["SQSVfskvPHnNqIJbhhke"]=base64_decode("c3RvcmVpZA==");$GLOBALS["nZQuzRWvnBgPysimylTL"]=base64_decode("c2V0dGluZ19jb2Rl");$GLOBALS["pAkJJjeRkbYOdBknOOkt"]=base64_decode("YXBwX2NvZGU=");$GLOBALS["TNjUIwvUCKYoazJgtXiI"]=base64_decode("dmFsdWU=");$GLOBALS["BAZPotQywtTdzVrBRSrl"]=base64_decode("bW9iaWNvbW1lcmNlX2FwcGxpY2F0aW9uc19zZXR0aW5nczM=");$GLOBALS["enNqNaCvEaCEJfTuGZEY"]=base64_decode("Ig==");$GLOBALS["jjJeNBFFNNJcsbgjXGNU"]=base64_decode("IEFORCBzdG9yZWlkID0gIg==");$GLOBALS["iOtUHmeUSkvXNpKWosTS"]=base64_decode("Y21zX3NldHRpbmdz");$GLOBALS["TUptVQXvbqLHEQzjrPLR"]=base64_decode("IiAKCQkJ");$GLOBALS["khxsAQuPRRMnAROJZptF"]=base64_decode("IiBhbmQgYy5gc2V0dGluZ19jb2RlYCA9ICI=");$GLOBALS["ZyfBFobbbwLMvIdWzVlP"]=base64_decode("bW9iaWNvbW1lcmNlX2FwcGxpY2F0aW9uc19zZXR0aW5nczNgIGMgICAgCgkJCVdIRVJFIGMuYGFwcF9jb2RlYCA9ICI=");$GLOBALS["tugkmwKQmrdyfghQnRJj"]=base64_decode("");$GLOBALS["JZnMZKwjUrgsxDMgIyze"]=base64_decode("d2lkZ2V0X2lkID0g");$GLOBALS["wnAMePwLXrNEaViVIBE"]=base64_decode("IjsgCgkJCQ==");$GLOBALS["urVdtxiCDQwVVNqTqUVu"]=base64_decode("YCBjICAgCgkJCVdIRVJFIGMuYHdpZGdldF9pZGAgPSAi");$GLOBALS["EULneaJwSKbGBSMHUnsH"]=base64_decode("CgkJCVNFTEVDVCBjLioKCQkJRlJPTSBg");$GLOBALS["bXWRfZFprEnqnzfHFjlg"]=base64_decode("IiBPUkRFUiBCWSB3aWRnZXRfcG9zaXRpb24gQVNDCQoJCQk=");$GLOBALS["aKFlYcOyjJzQJCwOJNBq"]=base64_decode("IiBhbmQgd2lkZ2V0X3N0b3JlX2lkPSI=");$GLOBALS["xxiaTatmdRtABHANaJgX"]=base64_decode("YAoJCQlXSEVSRSBgd2lkZ2V0X2FwcF9jb2RlYCA9ICI=");$GLOBALS["ZYrVnqasatHApMLnZrPE"]=base64_decode("CgkJCVNFTEVDVCAqCgkJCUZST00gYA==");$GLOBALS["udCFzApudRZVvnptNsFe"]=base64_decode("bGFuZ3VhZ2VTZWxlY3RlZA==");$GLOBALS["EHNyOQmBmvBGOmZdcrZU"]=base64_decode("d2lkZ2V0X2lk");$GLOBALS["komgMlMznyxnlpXampiG"]=base64_decode("d2lkZ2V0Q29kZQ==");$GLOBALS["NLrrTThpwinYVmDPg"]=base64_decode("d2lkZ2V0X2FwcF9jb2Rl");$GLOBALS["PhIpvZpGdpSccsGeJuqB"]=base64_decode("d2lkZ2V0X2NhdGVnb3J5X2lk");$GLOBALS["aaVSngfyKHLQgxZvwrY"]=base64_decode("MA==");$GLOBALS["aIICNSnCkAoKHmzfAY"]=base64_decode("ZW5hYmxl");$GLOBALS["UFujgwYVohAfSloovsTJ"]=base64_decode("d2lkZ2V0X3N0YXR1cw==");$GLOBALS["niLlgKhdbmXjoZZRLxlg"]=base64_decode("c2VsZWN0ZWRfd2lkZ2V0");$GLOBALS["aDwnIlIdmURDJOblnNvA"]=base64_decode("d2lkZ2V0X2NvZGU=");$GLOBALS["BoWuBfavKqJxeLgCuLA"]=base64_decode("bmFtZQ==");$GLOBALS["muekMZgqwBPBWVTxdBoE"]=base64_decode("d2lkZ2V0X2xhYmVs");$GLOBALS["YombVxALRnNzRSqzWYRf"]=base64_decode("bGFuZ19pZA==");$GLOBALS["YIQOCtqRShrdswwrUrCx"]=base64_decode("d2lkZ2V0X3N0b3JlX2lk");$GLOBALS["BqyYELduncgqBkajIVvH"]=base64_decode("cHJvZHVjdHM=");$GLOBALS["umdYGLgmUartiGwmBHyn"]=base64_decode("YmFubmVyX3Bvc2l0aW9u");$GLOBALS["SHlRCNLzGtCGyHhhetLl"]=base64_decode("MQ==");$GLOBALS["YCfCmCuBjBnIskcCAK"]=base64_decode("YmFubmVyX3N0YXR1cw==");$GLOBALS["sYABqoRtQbsGEsXnoNI"]=base64_decode("YmFubmVycw==");$GLOBALS["nDEJLLgmYTqibpsduIYl"]=base64_decode("Y2F0ZWdvcmllcw==");$GLOBALS["RcYLSIKNuWCsdyStwgdG"]=base64_decode("Y2F0ZWdvcnlCb3g=");$GLOBALS["xGbrCUsftoGMOAlmQkuY"]=base64_decode("d2lkZ2V0X2RhdGE=");$GLOBALS["DYGGxFhDlFMhMMGaKyIo"]=base64_decode("d2lkZ2V0");$GLOBALS["QmqtsnbygjsvctUkrPDt"]=base64_decode("bW9iaWNvbW1lcmNlX3dpZGdldDM=");$GLOBALS["qNfvvyesRmydHthVAwLi"]=base64_decode("d2lkZ2V0X3Bvc2l0aW9u");$GLOBALS["eJzWNBqVJjzFCTyEPjWM"]=base64_decode("YXBwX2xvZ28=");$GLOBALS["rmXkVxqxCSbonOAqbsBu"]=base64_decode("YXBwX3N0b3JlaWQ=");$GLOBALS["rgIkImLrAaQHjdciiuxP"]=base64_decode("bGFuZw==");$GLOBALS["NfjjcVEGrlZrcaNSlODH"]=base64_decode("cmVxdWlyZWQ=");$GLOBALS["kqpjokinrNKzMlmecrBs"]=base64_decode("dHlwZQ==");$GLOBALS["aWvCgzKuXrhkzJDXBIxY"]=base64_decode("YXBwX25hbWU=");$GLOBALS["sLnLcOgWCVbrPzrXtZeB"]=base64_decode("ZmllbGRz");$GLOBALS["sujYYCnTomiXqwKSEIsS"]=base64_decode("bXVsdGlsYW5n");$GLOBALS["SiRSACHoXsTIZeRmGmwq"]=base64_decode("aWQ=");$GLOBALS["HaUvzvIYBnZEnTfDiBLL"]=base64_decode("cHJpbWFyeQ==");$GLOBALS["oqxLDNoQJXHvHeyUOGkz"]=base64_decode("bW9iaWNvbW1lcmNlX2FwcGxpY2F0aW9uczM=");$GLOBALS["mDLMOfKWgvDmHozRaKuG"]=base64_decode("dGFibGU=");$GLOBALS["njyaJmZboucmVAmNzHMD"]=base64_decode("L01DQWJzdHJhY3QucGhw");$GLOBALS["sAQEXilAsHTxRRtWAHnp"]=base64_decode("X1BTX1ZFUlNJT05f");$GLOBALS["ETwWvPmzvdvJNEiPMCMo"]=base64_decode("JyBBTkQgc2V0dGluZ19jb2RlPSdob21lcGFnZV9jYXRlZ29yaWVzJw==");$GLOBALS["VJWBHUOAmxAIsPfWCePw"]=base64_decode("JyBBTkQgc2V0dGluZ19jb2RlPSdhZHZhbmNlX3NldHRpbmdzJw==");$GLOBALS["XdIbzVNvVdEpEzFkgrYm"]=base64_decode("bWRfZGV2aWNldHlwZSA9ICc=");$GLOBALS["EmIZcCOswMZqsJANkrYE"]=base64_decode("bWRfYXBwY29kZSA9ICckYXBwY29kZSc=");$GLOBALS["XWxnRTxyYdryQeponFSq"]=base64_decode("JyBBTkQgc2V0dGluZ19jb2RlPSdnb29nbGVhbmFseXRpY3Mn");$GLOBALS["nIFGbiOlwkJkRenGbMAI"]=base64_decode("bW9iaWNvbW1lcmNlX2FwcGxpY2F0aW9uc19zZXR0aW5nczM=");$GLOBALS["eDIoThUWRRejSwVbCNOU"]=base64_decode("JyBBTkQgc2V0dGluZ19jb2RlPSdjbXNfc2V0dGluZ3MnIEFORCBzdG9yZWlkID0gJw==");$GLOBALS["SEuJxBLCiRmVfWXPzEQw"]=base64_decode("bW9iaWNvbW1lcmNlX2FwcGxpY2F0aW9uc19zZXR0aW5nczMgV0hFUkUgYXBwX2NvZGUgPSAn");$GLOBALS["nrhwShLzxrgmJFXGdfFd"]=base64_decode("U0VMRUNUICogRlJPTSA=");$GLOBALS["IAJtFZxllpRjkHPNIqYB"]=base64_decode("JyBBTkQgc2V0dGluZ19jb2RlPSdhcHBpbmZvJw==");$GLOBALS["TDFxGVFXLziCcIyHhGuI"]=base64_decode("JyBBTkQgc2V0dGluZ19jb2RlPSdwdXNoX25vdGlmaWNhdGlvbic=");$GLOBALS["UTmdjPrdbaioiUqWlyaN"]=base64_decode("YXBwX2NvZGUgPSAn");$GLOBALS["SnsSSwMKZSYeMFnEirnh"]=base64_decode("");$GLOBALS["CGbFgRIFcNnyLvvmfknU"]=base64_decode("Jw==");$GLOBALS["zLGoFAvnGQLRQclsbsvA"]=base64_decode("d2lkZ2V0X2lkID0gJw==");$GLOBALS["NfqngKuCeCZESckxATPu"]=base64_decode("bW9iaWNvbW1lcmNlX3dpZGdldDM=");$GLOBALS["SZXBdITgammjRRXVtrpl"]=base64_decode("d2lkZ2V0X2hvbWU=");$GLOBALS["aLHTArYjdzyhUYbIiCCb"]=base64_decode("bW9iaWNvbW1lcmNlX2NhdGVnb3J5X3dpZGdldDM=");$GLOBALS["UrFwMssHVpNGFZlkBDAT"]=base64_decode("d2lkZ2V0X2NhdGVnb3J5");
?><?php


if (!defined($GLOBALS["sAQEXilAsHTxRRtWAHnp"]))
	exit;

include_once (dirname ( __FILE__ ) . $GLOBALS["njyaJmZboucmVAmNzHMD"]);
class MCManageAppObject extends MCAbstractObject
{
	const SORT_BY_POSITION = 1;

	public $id;
	public $app_name;
	public $app_code;
	public $app_key;
	public $app_logo;
	public $app_license_key;
	public $app_storeid;
	public $app_storegroupid;
	public $created_time;
	public $update_time;
	public $app_mode;
	public $ios_url;
	public $android_url;
	public $ios_status;
	public $android_status;
	public $udid;
	public $delivery_status;
	public $addon_parameters;
	public $webapp_url;
	public $version_type;

	
	public static $definition = array(
		'table'       => 'mobicommerce_applications3',
		'primary'     => 'id',
		'multilang'   => false,
		'fields'      => array(
			'app_name'    => array('type' => self::TYPE_STRING, 'required' => true,'lang' => true),
			'app_storeid' => array('type' => self::TYPE_INT,'required' => false,),
			'app_logo'    => array('type' => self::TYPE_STRING,'required' => false,),
			));

	public function changePosition($widget_id, $position, $type)
	{
		if($type==$GLOBALS["UrFwMssHVpNGFZlkBDAT"]) $_table = $GLOBALS["aLHTArYjdzyhUYbIiCCb"];
		else if($type==$GLOBALS["SZXBdITgammjRRXVtrpl"]) $_table = $GLOBALS["NfqngKuCeCZESckxATPu"];
		
		$_data = array(
			'widget_position' => $position
			);

		Db::getInstance()->update(
			$_table,
			$_data,
			$GLOBALS["zLGoFAvnGQLRQclsbsvA"].$widget_id.$GLOBALS["CGbFgRIFcNnyLvvmfknU"],
			false
			);

		return true;
	}

	public function updateWidgetPosition($widget_ids = array())
	{
		if(!empty($widget_ids)){
			foreach($widget_ids as $_widget_id => $position){
				$_data = array(
					'widget_position' => (int) $position
					);
				Db::getInstance()->update(
					$GLOBALS["QmqtsnbygjsvctUkrPDt"],
					$_data,
					$GLOBALS["zLGoFAvnGQLRQclsbsvA"].$_widget_id.$GLOBALS["CGbFgRIFcNnyLvvmfknU"],
					false
					);
			}
		}
	}

	public function addCategoryWidget($data,$object)
	{
		$widgetData = $data[$GLOBALS["DYGGxFhDlFMhMMGaKyIo"]][$GLOBALS["xGbrCUsftoGMOAlmQkuY"]];
		if(isset($data[$GLOBALS["RcYLSIKNuWCsdyStwgdG"]]) && !empty($data[$GLOBALS["RcYLSIKNuWCsdyStwgdG"]])){
			$categories = array();
			$sort = 1;
			foreach($data['categoryBox'] as $_category){
				$categories[$_category] = $sort;
				$sort++;
			}
			$widgetData[$GLOBALS["nDEJLLgmYTqibpsduIYl"]] = Tools::jsonEncode($categories);
		}

		if(isset($widgetData[$GLOBALS["sYABqoRtQbsGEsXnoNI"]])){
			if(!empty($widgetData[$GLOBALS["sYABqoRtQbsGEsXnoNI"]])){
				$sort_pos = array();
				$sort_secondpos = array();
				foreach($widgetData['banners'] as $_key => $_banner){
					if(isset($_banner[$GLOBALS["YCfCmCuBjBnIskcCAK"]])){
						$widgetData[$GLOBALS["sYABqoRtQbsGEsXnoNI"]][$_key][$GLOBALS["YCfCmCuBjBnIskcCAK"]] = $GLOBALS["SHlRCNLzGtCGyHhhetLl"];
					}
					
					$sort_pos[] = $_banner[$GLOBALS["umdYGLgmUartiGwmBHyn"]];
					$sort_secondpos[] = $_key;
				}
				array_multisort($sort_pos, SORT_ASC, $sort_secondpos, SORT_ASC, $widgetData['banners']);
			}
		}

		if(isset($widgetData[$GLOBALS["BqyYELduncgqBkajIVvH"]])){
			$widgetData[$GLOBALS["BqyYELduncgqBkajIVvH"]] = Tools::unSerialize($widgetData[$GLOBALS["BqyYELduncgqBkajIVvH"]]);
		}

		$widgetDataEncoded = serialize($widgetData);
		$_table = $GLOBALS["NfqngKuCeCZESckxATPu"];
		$_data = array(
			'widget_store_id' => $data['widget']['lang_id'],
			'widget_label'    => $data['widget']['name'],
			'widget_code'     => $data['widget']['selected_widget'],
			'widget_status'   => $data['widget']['enable'],
			'widget_position' => '0',
			'widget_data'     => $widgetDataEncoded
			);
		
		if(isset($data[$GLOBALS["DYGGxFhDlFMhMMGaKyIo"]][$GLOBALS["PhIpvZpGdpSccsGeJuqB"]]) && !empty($data[$GLOBALS["DYGGxFhDlFMhMMGaKyIo"]][$GLOBALS["PhIpvZpGdpSccsGeJuqB"]]))
		{
			$_table = $GLOBALS["aLHTArYjdzyhUYbIiCCb"];
			$_data[$GLOBALS["PhIpvZpGdpSccsGeJuqB"]] = $data[$GLOBALS["DYGGxFhDlFMhMMGaKyIo"]][$GLOBALS["PhIpvZpGdpSccsGeJuqB"]];
		}
		else
		{
			$_data[$GLOBALS["NLrrTThpwinYVmDPg"]] = $object->app_code;
		}

		Db::getInstance()->insert($_table, $_data, false, false);
		return true;
	}

	public function updateCategoryWidget($data)
	{
		$widgetData = $data[$GLOBALS["DYGGxFhDlFMhMMGaKyIo"]][$GLOBALS["xGbrCUsftoGMOAlmQkuY"]];
		if(isset($data[$GLOBALS["RcYLSIKNuWCsdyStwgdG"]]) && !empty($data[$GLOBALS["RcYLSIKNuWCsdyStwgdG"]])){
			$categories = array();
			$sort = 1;
			foreach($data['categoryBox'] as $_category){
				$categories[$_category] = $sort;
				$sort++;
			}
			$widgetData[$GLOBALS["nDEJLLgmYTqibpsduIYl"]] = Tools::jsonEncode($categories);
		}

		if(isset($widgetData[$GLOBALS["sYABqoRtQbsGEsXnoNI"]])){
			if(!empty($widgetData[$GLOBALS["sYABqoRtQbsGEsXnoNI"]])){
				$sort_pos = array();
				$sort_secondpos = array();
				foreach($widgetData['banners'] as $_key => $_banner){
					if(isset($_banner[$GLOBALS["YCfCmCuBjBnIskcCAK"]])){
						$widgetData[$GLOBALS["sYABqoRtQbsGEsXnoNI"]][$_key][$GLOBALS["YCfCmCuBjBnIskcCAK"]] = $GLOBALS["SHlRCNLzGtCGyHhhetLl"];
					}
					else{
						$widgetData[$GLOBALS["sYABqoRtQbsGEsXnoNI"]][$_key][$GLOBALS["YCfCmCuBjBnIskcCAK"]] = $GLOBALS["aaVSngfyKHLQgxZvwrY"];
					}
					$sort_pos[] = $_banner[$GLOBALS["umdYGLgmUartiGwmBHyn"]];
					$sort_secondpos[] = $_key;
				}
				array_multisort($sort_pos, SORT_ASC, $sort_secondpos, SORT_ASC, $widgetData['banners']);
			}
		}
		
		if(isset($widgetData[$GLOBALS["BqyYELduncgqBkajIVvH"]])){
			$widgetData[$GLOBALS["BqyYELduncgqBkajIVvH"]] = Tools::unSerialize($widgetData[$GLOBALS["BqyYELduncgqBkajIVvH"]]);
		}
		
		$_data = array(
			'widget_label'  => $data['widget']['name'],
			'widget_code'   => $data['widgetCode'],
			'widget_status' => $data['widget']['enable'],
			'widget_data'   => serialize($widgetData)
			);

		if(isset($data[$GLOBALS["DYGGxFhDlFMhMMGaKyIo"]][$GLOBALS["PhIpvZpGdpSccsGeJuqB"]]) && !empty($data[$GLOBALS["DYGGxFhDlFMhMMGaKyIo"]][$GLOBALS["PhIpvZpGdpSccsGeJuqB"]])) {
			$_table = $GLOBALS["aLHTArYjdzyhUYbIiCCb"];
		}
		else {
			$_table = $GLOBALS["NfqngKuCeCZESckxATPu"];
		}

		Db::getInstance()->update($_table, $_data, $GLOBALS["zLGoFAvnGQLRQclsbsvA"].$data[$GLOBALS["EHNyOQmBmvBGOmZdcrZU"]].$GLOBALS["CGbFgRIFcNnyLvvmfknU"], false);
		return true;
	}

	public function addProductWidget($data, $object)
	{
		$widgetData = $data[$GLOBALS["DYGGxFhDlFMhMMGaKyIo"]][$GLOBALS["xGbrCUsftoGMOAlmQkuY"]];

		$_data = array(
			'widget_label'       => $data['widget']['name'],
			'widget_code'        => $data['widget']['selected_widget'],
			'widget_status'      => $data['widget']['enable'],
			'widget_position'    => '0',
			'widget_data'        => serialize($widgetData)
			);

		$_table = $GLOBALS["NfqngKuCeCZESckxATPu"];
		if(isset($data[$GLOBALS["DYGGxFhDlFMhMMGaKyIo"]][$GLOBALS["PhIpvZpGdpSccsGeJuqB"]]) && !empty($data[$GLOBALS["DYGGxFhDlFMhMMGaKyIo"]][$GLOBALS["PhIpvZpGdpSccsGeJuqB"]]))
		{
			$_table = $GLOBALS["aLHTArYjdzyhUYbIiCCb"];

			$_data[$GLOBALS["YombVxALRnNzRSqzWYRf"]] = $data[$GLOBALS["DYGGxFhDlFMhMMGaKyIo"]][$GLOBALS["YombVxALRnNzRSqzWYRf"]];
			$_data[$GLOBALS["PhIpvZpGdpSccsGeJuqB"]] = $data[$GLOBALS["DYGGxFhDlFMhMMGaKyIo"]][$GLOBALS["PhIpvZpGdpSccsGeJuqB"]];  
		}
		else
		{
			$_data[$GLOBALS["NLrrTThpwinYVmDPg"]] = $object->app_code;
			$_data[$GLOBALS["YIQOCtqRShrdswwrUrCx"]] = $data[$GLOBALS["udCFzApudRZVvnptNsFe"]];
		}

		Db::getInstance()->insert($_table, $_data, false, false);
		return true;
	}

	public function getWidgetList($data, $app_code)
	{
		$_table = $GLOBALS["QmqtsnbygjsvctUkrPDt"];
		$lang_id = $data[$GLOBALS["YombVxALRnNzRSqzWYRf"]];
		if(empty($lang_id)){
			$context = Context::getContext();
        	$lang_id = $context->cookie->id_lang;
		}
		$sql = $GLOBALS["ZYrVnqasatHApMLnZrPE"]._DB_PREFIX_.$_table.$GLOBALS["xxiaTatmdRtABHANaJgX"].$app_code.$GLOBALS["aKFlYcOyjJzQJCwOJNBq"].$lang_id.$GLOBALS["bXWRfZFprEnqnzfHFjlg"];
		return Db::getInstance(_PS_USE_SQL_SLAVE_)->executeS($sql);
	}

	public function getWidgetData($widget_id, $cat="")
	{
		$_table = $GLOBALS["NfqngKuCeCZESckxATPu"];
		if(isset($cat) && !empty($cat))
		{
			$_table = $GLOBALS["aLHTArYjdzyhUYbIiCCb"];
		}
		$sql = $GLOBALS["EULneaJwSKbGBSMHUnsH"]._DB_PREFIX_.$_table.$GLOBALS["urVdtxiCDQwVVNqTqUVu"].$widget_id.$GLOBALS["wnAMePwLXrNEaViVIBE"];
		$result = Db::getInstance(_PS_USE_SQL_SLAVE_)->executeS($sql);
		return $result[$GLOBALS["aaVSngfyKHLQgxZvwrY"]];
	}

	public function deleteWidget($widget_id, $cat="")
	{
		$_table = $GLOBALS["NfqngKuCeCZESckxATPu"];
		if(isset($cat) && !empty($cat))
		{
			$_table = $GLOBALS["aLHTArYjdzyhUYbIiCCb"];
		}
		Db::getInstance()->delete($_table, $GLOBALS["JZnMZKwjUrgsxDMgIyze"]. $widget_id, 1, false);
		return true;
	}

	public function getSettings($app_code, $setting_code, $language = '')
	{
		$sql = $GLOBALS["EULneaJwSKbGBSMHUnsH"]._DB_PREFIX_.$GLOBALS["ZyfBFobbbwLMvIdWzVlP"].$app_code.$GLOBALS["khxsAQuPRRMnAROJZptF"].$setting_code.$GLOBALS["TUptVQXvbqLHEQzjrPLR"];
		if(in_array($setting_code, array('cms_settings'))){
			$sql .= $GLOBALS["jjJeNBFFNNJcsbgjXGNU"].$language.$GLOBALS["enNqNaCvEaCEJfTuGZEY"];
		}
		$result = Db::getInstance(_PS_USE_SQL_SLAVE_)->executeS($sql);
		return $result;
	}

	public function updatePushSetting($data, $appcode)
	{
		Db::getInstance()->update(
			$GLOBALS["BAZPotQywtTdzVrBRSrl"],
			array('value' => serialize($data)),
			$GLOBALS["UTmdjPrdbaioiUqWlyaN"].$appcode.$GLOBALS["TDFxGVFXLziCcIyHhGuI"],
			false
			);
	}

	public function updateAppinfo($data, $appcode)
	{
		Db::getInstance()->update(
			$GLOBALS["BAZPotQywtTdzVrBRSrl"],
			array('value' => serialize($data)),
			$GLOBALS["UTmdjPrdbaioiUqWlyaN"].$appcode.$GLOBALS["IAJtFZxllpRjkHPNIqYB"],
			false
			);
	}

	public function updateCMSContents($data, $appcode, $language = '')
	{
		$sql = $GLOBALS["nrhwShLzxrgmJFXGdfFd"]._DB_PREFIX_.$GLOBALS["SEuJxBLCiRmVfWXPzEQw"].$appcode.$GLOBALS["eDIoThUWRRejSwVbCNOU"].$language.$GLOBALS["CGbFgRIFcNnyLvvmfknU"];

		if ($results = Db::getInstance()->ExecuteS($sql)){
			Db::getInstance()->update(
				$GLOBALS["BAZPotQywtTdzVrBRSrl"],
				array('value' => serialize($data)),
				$GLOBALS["UTmdjPrdbaioiUqWlyaN"].$appcode.$GLOBALS["eDIoThUWRRejSwVbCNOU"].$language.$GLOBALS["CGbFgRIFcNnyLvvmfknU"],
				false
				);
		}
		else {
			$_data = array(
				'app_code'     => $appcode,
				'setting_code' => 'cms_settings',
				'storeid'      => $language,
				'value'        => serialize($data)
				);
			Db::getInstance()->insert($GLOBALS["nIFGbiOlwkJkRenGbMAI"], $_data, false, false);
		}
	}

	public function updateGoogleAnalytics($data, $appcode)
	{
		Db::getInstance()->update(
			$GLOBALS["BAZPotQywtTdzVrBRSrl"],
			array('value' => serialize($data)),
			$GLOBALS["UTmdjPrdbaioiUqWlyaN"].$appcode.$GLOBALS["XWxnRTxyYdryQeponFSq"],
			false
			);
	}

	public function getDeviceTokens($appcode, $type='both')
	{
		$where = array();
		$where[] = "md_appcode = '$appcode'";
		if(in_array($type, array('android', 'ios'))){
			$where[] = $GLOBALS["XdIbzVNvVdEpEzFkgrYm"].$type.$GLOBALS["CGbFgRIFcNnyLvvmfknU"];
		}
		$sql = $GLOBALS["ObPMBnloWfQEXONfvzIX"]._DB_PREFIX_.$GLOBALS["LmWcoWgMTGYOTGlcfraa"].implode($GLOBALS["UxyPZYSAbhTmpsJADXgj"], $where);
		return Db::getInstance()->ExecuteS($sql);
	}

	public function updateAdvanceSettings($data, $appcode)
	{
		Db::getInstance()->update(
			$GLOBALS["BAZPotQywtTdzVrBRSrl"],
			array('value' => serialize($data)),
			$GLOBALS["UTmdjPrdbaioiUqWlyaN"].$appcode.$GLOBALS["VJWBHUOAmxAIsPfWCePw"],
			false
			);
	}

	public function updateHomepageCategories($data, $appcode)
	{
		$sql = $GLOBALS["nrhwShLzxrgmJFXGdfFd"]._DB_PREFIX_.$GLOBALS["SEuJxBLCiRmVfWXPzEQw"].$appcode.$GLOBALS["ETwWvPmzvdvJNEiPMCMo"];
		if ($results = Db::getInstance()->ExecuteS($sql)){
			Db::getInstance()->update(
				$GLOBALS["BAZPotQywtTdzVrBRSrl"],
				array('value' => serialize($data)),
				$GLOBALS["UTmdjPrdbaioiUqWlyaN"].$appcode.$GLOBALS["ETwWvPmzvdvJNEiPMCMo"],
				false
				);
		}
		else {
			$_data = array(
				'app_code'     => $appcode,
				'setting_code' => 'homepage_categories',
				'value'        => serialize($data)
				);
			Db::getInstance()->insert($GLOBALS["nIFGbiOlwkJkRenGbMAI"], $_data, false, false);
		}
	}

	public static function getAll()
	{
		$db = Db::getInstance(_PS_USE_SQL_SLAVE_);
		$results = $db->executeS($GLOBALS["oQmozerNEjRIoKxpAPxz"]._DB_PREFIX_.self::$definition[$GLOBALS["mDLMOfKWgvDmHozRaKuG"]].$GLOBALS["BiPqrBarFHDTfSHckFAo"]);

		return $results;
	}

	public function add($autodate = TRUE, $null_values = FALSE)
	{
		return parent::add($autodate, TRUE);
	}

	public function update($null_values = FALSE)
	{
		if (parent::update($null_values)) {
			return $this->cleanPositions();
		}

		return FALSE;
	}

	public function delete()
	{
		if (parent::delete())
		{
			return $this->cleanPositions();
		}

		return FALSE;
	}

	public function savePushNotification($data)
	{
		Db::getInstance()->insert($GLOBALS["HLRfIBMCSDQyIxGxUEw"], $data, false, false);
	}
}
 ?>